- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: 'Getting Started: ChatGPT, the OpenAI API, and Prompt Engineering'
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 入门指南：ChatGPT、OpenAI API和提示工程
- en: '**ChatGPT** is a **large language model** (**LLM**) developed by **OpenAI**,
    which is specifically designed to generate context-aware responses and content
    based on the prompts provided by users. It leverages the power of **generative
    AI** to understand and respond intelligently to a wide range of queries, making
    it a valuable tool for numerous applications, including cybersecurity.'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '**ChatGPT**是由**OpenAI**开发的一个**大型语言模型**（**LLM**），专门设计用于根据用户提供的提示生成具有上下文意识的响应和内容。它利用**生成式人工智能**的力量来理解并智能地回应各种查询，使其成为许多应用程序的宝贵工具，包括网络安全。'
- en: Important note
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Generative AI** is a branch of **artificial intelligence** (**AI**) that
    uses **machine learning** (**ML**) algorithms and **natural language processing**
    (**NLP**) to analyze patterns and structures within a dataset and generate new
    data that resembles the original dataset. You likely use this technology every
    day if you use autocorrect in word processing applications, mobile chat apps,
    and more. That said, the advent of LLMs goes far beyond simple autocomplete.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '**生成式人工智能**是**人工智能**（**AI**）的一个分支，它使用**机器学习**（**ML**）算法和**自然语言处理**（**NLP**）来分析数据集中的模式和结构，并生成类似原始数据集的新数据。如果你在文字处理应用程序、手机聊天应用等地方使用自动更正，那么你很可能每天都在使用这项技术。也就是说，LLM
    的出现远远超出了简单的自动补全。'
- en: LLMs are a type of generative AI that are trained on massive amounts of text
    data, enabling them to understand context, generate human-like responses, and
    create content based on user input. You may have already used LLMs if you have
    ever communicated with a helpdesk chatbot.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: LLM 是一种经过大量文本数据训练的生成式人工智能，使其能够理解上下文，生成类似人类的响应，并根据用户输入创建内容。如果你曾与帮助台聊天机器人进行过沟通，那么你可能已经使用过LLMs了。
- en: '**GPT** stands for **Generative Pre-Trained Transformer** and, as the name
    suggests, is an LLM that has been pre-trained to improve accuracy and/or provide
    specific knowledge-based data generation.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '**GPT**代表**生成式预训练识别器**，顾名思义，它是一个预先训练的LLM，用于提高准确性和/或提供特定的基于知识的数据生成。'
- en: ChatGPT has raised concerns about plagiarism in some academic and content-creation
    communities. It has also been implicated in misinformation and social engineering
    campaigns due to its ability to generate realistic and human-like text. However,
    its potential to revolutionize various industries cannot be ignored. In particular,
    LLMs have shown great promise in more technical fields, such as programming and
    cybersecurity, due to their deep knowledge base and ability to perform complex
    tasks such as instantly analyzing data and even writing fully functional code.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ChatGPT 在一些学术和内容创作社区引起了关于抄袭的担忧。由于其生成逼真和类似人类的文本的能力，它还被牵涉到了误传和社会工程活动中。然而，其改革多个行业的潜力也是不可忽视的。特别是由于其深厚的知识基础和执行复杂任务的能力（比如即时分析数据甚至编写完全功能的代码），LLMs
    在更严谨的领域，比如编程和网络安全，已经显示出了巨大的潜力。
- en: In this chapter, we will guide you through the process of setting up an account
    with OpenAI, familiarizing yourself with ChatGPT, and mastering the art of prompt
    engineering (the key to leveraging the real power of this technology). We will
    also introduce you to the OpenAI API, equipping you with the necessary tools and
    techniques to harness ChatGPT’s full potential.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们将指导你完成与OpenAI建立账户、熟悉ChatGPT并掌握提示工程（这是发挥这项技术真正力量的关键）的过程。我们还将介绍OpenAI
    API，为你提供必要的工具和技术，以充分发挥ChatGPT的潜力。
- en: You’ll begin by learning how to create a ChatGPT account and generate an API
    key, which serves as your unique access point to the OpenAI platform. We’ll then
    explore basic ChatGPT prompting techniques using various cybersecurity applications,
    such as instructing ChatGPT to write Python code that finds your IP address and
    simulating an AI CISO role by applying ChatGPT roles.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你将首先学习如何创建 ChatGPT 账户并生成 API 密钥，该密钥作为你访问 OpenAI 平台的唯一访问点。然后我们将探讨使用各种网络安全应用程序的基本
    ChatGPT 提示技术，比如指导 ChatGPT 编写查找你的 IP 地址的 Python 代码以及模拟应用 ChatGPT 角色的 AI CISO 角色。
- en: We’ll dive deeper into enhancing your ChatGPT outputs with templates to generate
    comprehensive threat reports, as well as formatting output as tables for improved
    presentation, such as creating a security controls table. As you progress through
    this chapter, you’ll learn how to set the OpenAI API key as an environment variable
    to streamline your development process, send requests and handle responses with
    Python, efficiently use files for prompts and API key access, and effectively
    employ prompt variables to create versatile applications, such as generating manual
    pages based on user inputs. By the end of this chapter, you’ll have a solid understanding
    of the various aspects of ChatGPT and how to utilize its capabilities in the cybersecurity
    domain.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将深入探讨如何利用模板增强 ChatGPT 输出，生成全面的威胁报告，并将输出格式化为表格，以改善展示效果，例如创建安全控制表。在阅读本章的过程中，你将学会如何将
    OpenAI API 密钥设置为环境变量，以简化开发流程；使用 Python 发送请求和处理响应；高效地利用文件进行提示和 API 密钥访问；有效地使用提示变量创建多功能应用程序，如根据用户输入生成手册页面。到本章结束时，你将对
    ChatGPT 的各个方面有扎实的理解，以及如何在网络安全领域利用其功能。
- en: Tip
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: Even if you are already familiar with the basic ChatGPT and OpenAI API setup
    and mechanics, it will still be advantageous for you to review the recipes in
    [*Chapter 1*](B21091_01.xhtml#_idTextAnchor022) as they are almost all set within
    the context of cybersecurity, which is reflected through some of the prompting
    examples.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您已经熟悉基本的 ChatGPT 和 OpenAI API 设置和原理，回顾[*第一章*](B21091_01.xhtml#_idTextAnchor022)中的菜谱仍然对您有利，因为几乎所有的例子都设置在网络安全的背景下，这在一些提示示例中得到了体现。
- en: 'In this chapter, we will cover the following recipes:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍以下的菜谱：
- en: Setting up a ChatGPT Account
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设置 ChatGPT 账号
- en: Creating an API Key and interacting with OpenAI
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 API 密钥和与 OpenAI 进行交互
- en: 'Basic prompting (Application: Finding Your IP Address)'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基本提示（应用场景：查找您的 IP 地址）
- en: 'Applying ChatGPT Roles (Application: AI CISO)'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 应用 ChatGPT 角色（应用场景：AI CISO）
- en: 'Enhancing Output with Templates (Application: Threat Report)'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用模板增强输出（应用场景：威胁报告）
- en: 'Formatting Output as a Table (Application: Security Controls Table)'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将输出格式化为表格（应用场景：安全控制表）
- en: Setting the OpenAI API Key as an Environment Variable
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 OpenAI API 密钥设置为环境变量
- en: Sending API Requests and Handling Responses with Python
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Python 发送 API 请求并处理响应
- en: Using Files for Prompts and API Key Access
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用文件进行提示和 API 密钥访问
- en: 'Using Prompt Variables (Application: Manual Page Generator)'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用提示变量（应用场景：手册页面生成器）
- en: Technical requirements
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: For this chapter, you will need a **web browser** and a stable **internet connection**
    to access the ChatGPT platform and set up your account. Basic familiarity with
    the Python programming language and working with the command line is necessary
    as you’ll be using **Python 3.x**, which needs to be installed on your system
    so that you can work with the OpenAI GPT API and create Python scripts. A **code
    editor** will also be essential for writing and editing Python code and prompt
    files as you work through the recipes in this chapter.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 本章需要使用**网络浏览器**和稳定的**互联网连接**来访问 ChatGPT 平台并设置您的账户。需要基本熟悉 Python 编程语言和命令行操作，因为你将要使用**Python
    3.x**，需要在系统上安装Python 3.x，以便使用 OpenAI GPT API 并创建 Python 脚本。还需要一个**代码编辑器**来编写和编辑
    Python 代码和提示文件，以便在此章节中编写和编辑代码。
- en: 'The code files for this chapter can be found here: [https://github.com/PacktPublishing/ChatGPT-for-Cybersecurity-Cookbook](https://github.com/PacktPublishing/ChatGPT-for-Cybersecurity-Cookbook).'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的代码文件可以在此处找到：[https://github.com/PacktPublishing/ChatGPT-for-Cybersecurity-Cookbook](https://github.com/PacktPublishing/ChatGPT-for-Cybersecurity-Cookbook)
    。
- en: Setting up a ChatGPT Account
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置 ChatGPT 账号
- en: In this recipe, we will learn about generative AI, LLMs, and ChatGPT. Then,
    we will guide you through the process of setting up an account with OpenAI and
    exploring the features it offers.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习生成式人工智能、LLMs 和 ChatGPT。然后，我们将为你介绍如何注册 OpenAI 账户并探索其提供的功能。
- en: Getting ready
  id: totrans-29
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To set up a ChatGPT account, you will need an active email address and a modern
    web browser.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置 ChatGPT 账户，您需要一个活跃的电子邮件地址和现代的网络浏览器。
- en: Important note
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Every effort has been made to ensure that every illustration and instruction
    is correct at the time of writing. However, this is such a fast-moving technology
    and many of the tools used in this book are currently being updated at a rapid
    pace. Therefore, you might find slight differences.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在撰写本书时，我们已经尽力确保每个插图和指令都是正确的。但是，这是一个快速发展的技术领域，本书中使用的许多工具目前正在快速更新。因此，您可能会发现细微的差异。
- en: How to do it…
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '如何做... '
- en: 'By setting up a ChatGPT account, you’ll gain access to a powerful AI tool that
    can greatly enhance your cybersecurity workflow. In this section, we’ll walk you
    through the steps of creating an account, allowing you to leverage ChatGPT’s capabilities
    for a range of applications, from threat analysis to generating security reports:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 通过建立 ChatGPT 账号，您将获得访问一个强大 AI 工具的能力，可以极大地增强您的网络安全工作流程。在本节中，我们将指导您完成创建账号的步骤，让您能够利用
    ChatGPT 的能力进行各种应用，从威胁分析到生成安全报告：
- en: Visit the OpenAI website at [https://platform.openai.com/](https://platform.openai.com/)
    and click **Sign up**.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问 OpenAI 网站 [https://platform.openai.com/](https://platform.openai.com/) 并点击
    **注册**。
- en: 'Enter your email address and click **Continue**. Alternatively, you can register
    with your existing Google or Microsoft account:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的电子邮件地址然后点击 **继续**。另外，您也可以使用您现有的 Google 或 Microsoft 账号注册：
- en: '![Figure 1.1 – OpenAI signup form](img/Figure_1.01_B21091.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1 – OpenAI 注册表](img/Figure_1.01_B21091.jpg)'
- en: Figure 1.1 – OpenAI signup form
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – OpenAI 注册表
- en: Enter a strong password and click **Continue**.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入一个强密码然后点击 **继续**。
- en: Check your email for a verification message from OpenAI. Click the link provided
    in the email to verify your account.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您的电子邮件，看看来自 OpenAI 的验证消息。点击邮件中提供的链接验证您的账号。
- en: Once your account has been verified, enter the required information (first name,
    last name, optional organization name, and birthday) and click **Continue**.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成账号验证后，输入所需信息（名字、姓氏、可选的机构名称和生日）然后点击 **继续**。
- en: Enter your phone number to verify by phone and click **Send code**.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的电话号码进行电话验证，然后点击 **发送验证码**。
- en: When you receive the text message with the code, enter the code and click **Continue**.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当您收到包含验证码的短信时，输入验证码然后点击 **继续**。
- en: Visit and bookmark [https://platform.openai.com/docs/](https://platform.openai.com/docs/)
    to start becoming familiar with OpenAI’s documentation and features.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问并收藏 [https://platform.openai.com/docs/](https://platform.openai.com/docs/)
    以开始熟悉 OpenAI 的文档和功能。
- en: How it works…
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: By setting up an account with OpenAI, you gain access to the ChatGPT API and
    other features offered by the platform, such as **Playground** and all available
    models. This enables you to utilize ChatGPT’s capabilities in your cybersecurity
    operations, enhancing your efficiency and decision-making process.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 通过建立一个 OpenAI 账号，您将获得访问 ChatGPT API 和平台提供的其他功能的权限，如 **Playground** 和所有可用模型。这将使您能够在您的网络安全操作中利用
    ChatGPT 的能力，提升您的效率和决策流程。
- en: There’s more…
  id: totrans-47
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'When you sign up for a free OpenAI account, you get $18 in free credits. While
    you most likely won’t use up all of your free credits throughout the recipes in
    this book, you will eventually with continued use. Consider upgrading to a paid
    OpenAI plan to access additional features, such as increased API usage limits
    and priority access to new features and improvements:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 当您注册免费的 OpenAI 账号时，您将获得价值 $18 的免费信用额度。虽然您可能不会在本书的内容中用完所有的免费信用额度，但随着持续使用，最终会用完。考虑升级到付费的
    OpenAI 计划以访问额外功能，如增加的 API 使用限制以及优先访问新功能和改进：
- en: '**Upgrading to** **ChatGPT Plus**:'
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**升级到** **ChatGPT Plus**:'
- en: ChatGPT Plus is a subscription plan that offers additional benefits beyond free
    access to ChatGPT. With a ChatGPT Plus subscription, you can expect faster response
    times, general access to ChatGPT even during peak times, and priority access to
    new features and improvements (this includes access to GPT-4 at the time of writing).
    This subscription is designed to provide an enhanced user experience and ensure
    that you can make the most out of ChatGPT for your cybersecurity needs.
  id: totrans-50
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ChatGPT Plus 是一个订阅计划，提供了比免费访问 ChatGPT 更多的好处。通过 ChatGPT Plus 订阅，您可以期待更快的响应时间，在高峰时段甚至有通用访问
    ChatGPT，以及优先访问新功能和改进（在撰写本文时包括访问 GPT-4）。这个订阅计划旨在提供增强的用户体验，并确保您能充分利用 ChatGPT 来满足您的网络安全需求。
- en: '**Benefits of having an** **API key**:'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**拥有 API 密钥的好处**：'
- en: Having an API key is essential for utilizing ChatGPT’s capabilities programmatically
    through the OpenAI API. With an API key, you can access ChatGPT directly from
    your applications, scripts, or tools, enabling more customized and automated interactions.
    This allows you to build a wide range of applications, integrating ChatGPT’s intelligence
    to enhance your cybersecurity practices. By setting up an API key, you’ll be able
    to harness the full power of ChatGPT and tailor its features to your specific
    requirements, making it an indispensable tool for your cybersecurity tasks.
  id: totrans-52
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Tip
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: I highly recommend upgrading to ChatGPT Plus so that you have access to GPT-4\.
    While GPT-3.5 is still very powerful, GPT-4’s coding efficiency and accuracy make
    it more suited to the types of use cases we will be covering in this book and
    with cybersecurity in general. At the time of writing, there are also other additional
    features in ChatGPT Plus, such as the availability of plugins and the code interpreter,
    which will be covered in later chapters.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
- en: Creating an API Key and interacting with OpenAI
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this recipe, we will guide you through the process of obtaining an OpenAI
    API key and introduce you to the OpenAI Playground, where you can experiment with
    different models and learn more about their capabilities.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: To get an OpenAI API key, you will need to have an active OpenAI account. If
    you haven’t already, complete the *Setting up a ChatGPT account* recipe to set
    up your ChatGPT account.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: How to do it…
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Creating an API key and interacting with OpenAI allows you to harness the power
    of ChatGPT and other OpenAI models for your applications. This means you’ll be
    able to leverage these AI technologies to build powerful tools, automate tasks,
    and customize your interactions with the models. By the end of this recipe, you
    will have successfully created an API key for programmatic access to OpenAI models
    and learned how to experiment with them using the OpenAI Playground.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, let’s proceed with the steps to create an API key and explore the OpenAI
    Playground:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: Log in to your OpenAI account at [https://platform.openai.com](https://platform.openai.com).
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'After logging in, click on your **profile picture/name** in the top-right corner
    of the screen and select **View API keys** from the drop-down menu:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: "![Figure 1.2 \uFEFF– The API keys screen](img/Figure_1.02_B21091.jpg)"
  id: totrans-64
  prefs: []
  type: TYPE_IMG
- en: Figure 1.2 – The API keys screen
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: Click the **+ Create new secret key** button to generate a new API key.
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Give your API key a name (optional) and click **Create** **secret key**:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Figure 1.3 – Naming your API key](img/Figure_1.03_B21091.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
- en: Figure 1.3 – Naming your API key
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: 'Your new API key will be displayed on the screen. Click the **copy icon**,
    ![copy icon](img/Icon_1.png), to copy the key to your clipboard:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tip
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: Save your API key in a secure location immediately as you will need it later
    when working with the OpenAI API; you cannot view the key again in its entirety
    once it has been saved.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 1.4 – Copying your API key](img/Figure_1.04_B21091.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4 – 复制您的 API 密钥](img/Figure_1.04_B21091.jpg)'
- en: Figure 1.4 – Copying your API key
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – 复制您的 API 密钥
- en: How it works…
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: By creating an API key, you enable programmatic access to ChatGPT and other
    OpenAI models through the OpenAI API. This allows you to integrate ChatGPT’s capabilities
    into your applications, scripts, or tools, enabling more customized and automated
    interactions.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 通过创建 API 密钥，您可以通过 OpenAI API 实现对 ChatGPT 和其他 OpenAI 模型的编程访问。这使您能够将 ChatGPT 的功能集成到您的应用程序、脚本或工具中，从而实现更加定制化和自动化的交互。
- en: There’s more…
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: 'The **OpenAI Playground** is an interactive tool that allows you to experiment
    with different OpenAI models, including ChatGPT, and their various parameters,
    but without requiring you to write any code. To access and use the Playground,
    follow these steps:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**OpenAI Playground** 是一个交互式工具，允许您尝试不同的 OpenAI 模型，包括 ChatGPT，以及它们的各种参数，但不需要您编写任何代码。要访问和使用
    Playground，请按照以下步骤操作：'
- en: Important note
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Using the Playground requires token credits; you are billed each month for the
    credits used. For the most part, this cost can be considered very affordable,
    depending on your perspective. However, excessive use can add up to significant
    costs if not monitored.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Playground 需要令牌积分；您每个月都会为所使用的积分付费。从大多数情况来看，这个成本可以被认为是非常负担得起的，这取决于您的观点。然而，如果不加以监控，过度使用会导致显著的成本累积。
- en: Log in to your OpenAI account.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到您的 OpenAI 账户。
- en: 'Click **Playground** in the top navigation bar:'
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击顶部导航栏中的 **Playground**：
- en: '![Figure 1.5 – The OpenAI Playground](img/Figure_1.05_B21091.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.5 – OpenAI Playground](img/Figure_1.05_B21091.jpg)'
- en: Figure 1.5 – The OpenAI Playground
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – OpenAI Playground
- en: 'In the Playground, you can choose from various models by selecting the model
    you want to use from the **Model** drop-down menu:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Playground 中，您可以通过从**模型**下拉菜单中选择要使用的模型来选择不同的模型：
- en: '![Figure 1.6 – Selecting a model](img/Figure_1.06_B21091.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.6 – 选择模型](img/Figure_1.06_B21091.jpg)'
- en: Figure 1.6 – Selecting a model
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – 选择模型
- en: 'Enter your prompt in the textbox provided and click **Submit** to see the model’s
    response:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在提供的文本框中输入您的提示，然后点击 **提交** 查看模型的响应：
- en: '![Figure 1.7 – Entering a prompt and generating a response](img/Figure_1.07_B21091.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.7 – 输入提示并生成响应](img/Figure_1.07_B21091.jpg)'
- en: Figure 1.7 – Entering a prompt and generating a response
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – 输入提示并生成响应
- en: Tip
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: Even though you are not required to enter an API key to interact with the Playground,
    usage still counts toward your account’s token/credit usage.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 即使您不需要输入 API 密钥来与 Playground 交互，使用仍然会计入您账户的令牌/积分使用情况。
- en: 'You can also adjust various settings, such as the maximum length, number of
    generated responses, and more, from the settings panel to the right of the message
    box:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以从消息框右侧的设置面板调整各种设置，如最大长度、生成的响应数量等：
- en: '![Figure 1.8 – Adjusting settings in the Playground](img/Figure_1.08_B21091.jpg)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.8 – 调整 Playground 中的设置](img/Figure_1.08_B21091.jpg)'
- en: Figure 1.8 – Adjusting settings in the Playground
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8 – 调整 Playground 中的设置
- en: 'Two of the most important parameters are **Temperature** and **Maximum length**:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的两个参数是**温度**和**最大长度**：
- en: The **Temperature** parameter affects the randomness and creativity of the model’s
    responses. A higher temperature (for example, 0.8) will produce more diverse and
    creative outputs, while a lower temperature (for example, 0.2) will generate more
    focused and deterministic responses. By adjusting the temperature, you can control
    the balance between the model’s creativity and adherence to the provided context
    or prompt.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**温度**参数影响模型响应的随机性和创造性。较高的温度（例如，0.8）将产生更多样化和创造性的输出，而较低的温度（例如，0.2）将生成更加专注和确定性的响应。通过调整温度，您可以控制模型的创造性与对提供的上下文或提示的遵循之间的平衡。'
- en: The **Maximum length** parameter controls the number of tokens (words or word
    pieces) the model will generate in its response. By setting a higher maximum length,
    you can obtain longer responses, while a lower maximum length will produce more
    concise outputs. Adjusting the maximum length can help you tailor the response
    length to your specific needs or requirements.
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大长度**参数控制模型在其响应中将生成的标记（单词或单词片段）的数量。通过设置较高的最大长度，您可以获得更长的响应，而较低的最大长度将产生更简洁的输出。调整最大长度可以帮助您将响应长度定制到您特定的需求或要求。'
- en: Feel free to experiment with these parameters in the OpenAI Playground or when
    using the API to find the optimal settings for your specific use case or desired
    output.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 随意在OpenAI Playground中或在使用API时尝试这些参数，以找到适合您特定用例或期望输出的最佳设置。
- en: 'The Playground allows you to experiment with different prompt styles, presets,
    and model settings, helping you better understand how to tailor your prompts and
    API requests for optimal results:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: Playground允许您尝试不同的提示样式、预设和模型设置，帮助您更好地理解如何调整提示和API请求以获得最佳结果：
- en: '![Figure 1.9 – Prompt presets and model modes](img/Figure_1.09_B21091.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![图1.9 – 提示预设和模型模式](img/Figure_1.09_B21091.jpg)'
- en: Figure 1.9 – Prompt presets and model modes
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.9 – 提示预设和模型模式
- en: Tip
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: While we will be covering several of the different prompt settings using the
    API throughout this book, we won’t cover them all. You are encouraged to review
    the *OpenAPI documentation* for more details.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然在本书中我们将使用API覆盖几种不同的提示设置，但我们不会涵盖所有情况。建议您查阅*OpenAPI文档*以获取更多详情。
- en: 'Basic Prompting (Application: Finding Your IP Address)'
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本提示（应用程序：查找您的IP地址）
- en: In this recipe, we will explore the basics of ChatGPT prompting using the ChatGPT
    interface, which is different from the OpenAI Playground we used in the previous
    recipe. The advantage of using the ChatGPT interface is that it does not consume
    account credits and is better suited for generating formatted output, such as
    writing code or creating tables.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在本篇中，我们将使用ChatGPT界面探索ChatGPT提示的基础知识，该界面与我们在上一篇中使用的OpenAI Playground不同。使用ChatGPT界面的优点是它不消耗账户积分，并且更适合生成格式化输出，例如编写代码或创建表格。
- en: Getting ready
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To use the ChatGPT interface, you will need to have an active OpenAI account.
    If you haven’t already, complete the *Setting up a ChatGPT account* recipe to
    set up your ChatGPT account.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用ChatGPT界面，您需要拥有一个活跃的OpenAI账户。如果还没有，请完成*设置ChatGPT账户*的步骤来设置您的ChatGPT账户。
- en: How to do it…
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: In this recipe, we’ll guide you through using the ChatGPT interface to generate
    a Python script that retrieves a user’s public IP address. By following these
    steps, you’ll learn how to interact with ChatGPT in a conversation-like manner
    and receive context-aware responses, including code snippets.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在本篇中，我们将指导您使用ChatGPT界面生成一个检索用户公共IP地址的Python脚本。通过按照这些步骤，您将学会如何与ChatGPT以对话方式交互，并接收上下文感知的响应，包括代码片段。
- en: 'Now, let’s proceed with the steps in this recipe:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们按照本篇的步骤进行：
- en: In your browser, go to [https://chat.openai.com](https://chat.openai.com) and
    click **Log in**.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器中，转到[https://chat.openai.com](https://chat.openai.com)，然后单击**登录**。
- en: Log in using your OpenAI credentials.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您的OpenAI凭据登录。
- en: 'Once you are logged in, you will be taken to the ChatGPT interface. The interface
    is similar to a chat application, with a text box at the bottom where you can
    enter your prompts:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦您登录，您将进入ChatGPT界面。该界面类似于聊天应用程序，在底部有一个文本框，您可以在其中输入您的提示：
- en: '![Figure 1.10 – The ChatGPT interface](img/Figure_1.10_B21091.jpg)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![图1.10 – ChatGPT界面](img/Figure_1.10_B21091.jpg)'
- en: Figure 1.10 – The ChatGPT interface
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.10 – ChatGPT界面
- en: 'ChatGPT uses a conversation-based approach, so you can simply type your prompt
    as a message and press *Enter* or click the ![Enter](img/Icon_2.png) button to
    receive a response from the model. For example, you can ask ChatGPT to generate
    a piece of Python code to find the public IP address of a user:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ChatGPT采用基于对话的方法，因此您只需将您的提示作为消息键入并按下*Enter*或单击![Enter](img/Icon_2.png)按钮，即可从模型接收响应。例如，您可以询问ChatGPT生成一段Python代码以查找用户的公共IP地址：
- en: '![Figure 1.11 – Entering a prompt](img/Figure_1.11_B21091.jpg)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![图1.11 – 输入提示](img/Figure_1.11_B21091.jpg)'
- en: Figure 1.11 – Entering a prompt
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.11 – 输入提示
- en: 'ChatGPT will generate a response containing the requested Python code, along
    with a thorough explanation:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: ChatGPT将生成一个包含请求的Python代码以及详细解释的响应：
- en: '![Figure 1.12 – ChatGPT response with code](img/Figure_1.12_B21091.jpg)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![图1.12 – ChatGPT响应代码](img/Figure_1.12_B21091.jpg)'
- en: Figure 1.12 – ChatGPT response with code
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.12 – ChatGPT响应代码
- en: 'Continue the conversation by asking follow-up questions or providing additional
    information, and ChatGPT will respond accordingly:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 继续对话，提出后续问题或提供额外信息，ChatGPT将相应作出回应：
- en: '![Figure 1.13 – ChatGPT contextual follow-up response](img/Figure_1.13_B21091.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图1.13 – ChatGPT上下文跟进响应](img/Figure_1.13_B21091.jpg)'
- en: Figure 1.13 – ChatGPT contextual follow-up response
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13 – ChatGPT上下文跟进响应
- en: 'Run the ChatGPT-generated code by clicking on `.py` Python script, and run
    it from a terminal:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过点击 `.py` Python 脚本运行 ChatGPT 生成的代码，并从终端运行：
- en: '[PRE0]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Figure 1.14 – Running the ChatGPT-generated script
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – 运行 ChatGPT 生成的脚本
- en: How it works…
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: By using the ChatGPT interface to enter prompts, you can generate context-aware
    responses and content that continues throughout an entire conversation, similar
    to a chatbot. The conversation-based approach allows for more natural interactions
    and the ability to ask follow-up questions or provide additional context. The
    responses can even include complex formatting such as code snippets or tables
    (more on tables later).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用 ChatGPT 界面输入提示，你可以生成贯穿整个对话的具有上下文感知的响应和内容，类似于聊天机器人。基于对话的方法允许更自然的交互和能力提出跟进问题或提供额外的上下文。响应甚至可以包括复杂的格式，如代码片段或表格（稍后会介绍更多关于表格的内容）。
- en: There’s more…
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: As you become more familiar with ChatGPT, you can experiment with different
    prompt styles, instructions, and contexts to obtain the desired output for your
    cybersecurity tasks. You can also compare the results that are generated through
    the ChatGPT interface and the OpenAI Playground to determine which approach best
    fits your needs.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 随着你对 ChatGPT 越来越熟悉，你可以尝试不同的提示样式、说明和上下文，以获得你网络安全任务所需的输出。你还可以比较通过 ChatGPT 界面和
    OpenAI Playground 生成的结果，以确定哪种方法最适合你的需求。
- en: Tip
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士
- en: You can further refine the generated output by providing very clear and specific
    instructions or using roles. It also helps to divide complex prompts into several
    smaller prompts, giving ChatGPT one instruction per prompt, building on the previous
    prompts as you go.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过提供非常清晰和具体的说明或使用角色来进一步完善生成的输出。将复杂的提示分解为几个较小的提示也有帮助，每个提示一个指令，随着你的进展构建在前一个提示的基础上。
- en: In the upcoming recipes, we will delve into more advanced prompting techniques
    that utilize these techniques to help you get the most accurate and detailed responses
    from ChatGPT.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在即将到来的示例中，我们将深入探讨更高级的提示技术，利用这些技术来帮助你从 ChatGPT 获得最准确和详细的响应。
- en: As you interact with ChatGPT, your conversation history is automatically saved
    in the left panel of the ChatGPT interface. This feature allows you to easily
    access and review your previous prompts and responses.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 当你与 ChatGPT 交互时，你的对话历史会自动保存在 ChatGPT 界面的左侧面板中。这个功能允许你轻松访问和审阅你以前的提示和响应。
- en: 'By leveraging the conversation history feature, you can keep track of your
    interactions with ChatGPT and quickly reference previous responses for your cybersecurity
    tasks or other projects:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 通过利用对话历史功能，你可以跟踪你与 ChatGPT 的交互，并快速查阅以前的响应，用于你的网络安全任务或其他项目：
- en: '![Figure 1.15 – Conversation history in the ChatGPT interface](img/Figure_1.15_B21091.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.15 – ChatGPT 界面中的对话历史](img/Figure_1.15_B21091.jpg)'
- en: Figure 1.15 – Conversation history in the ChatGPT interface
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – ChatGPT 界面中的对话历史
- en: To view a saved conversation, simply click on the desired conversation in the
    left panel. You can also create new conversations by clicking on the **+ New chat**
    button located at the top of the conversation list. This enables you to separate
    and organize your prompts and responses based on specific tasks or topics.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看保存的对话，只需在左侧面板中点击所需对话即可。你也可以通过点击位于对话列表顶部的 **+ 新聊天** 按钮来创建新的对话。这样可以根据特定任务或主题分离和组织你的提示和响应。
- en: Note of caution
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 注意事项
- en: Keep in mind that when you start a new conversation, the model loses the context
    of the previous conversation. If you want to reference any information from a
    previous conversation, you will need to include that context in your new prompt.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 开始新对话时，请记住模型会失去之前对话的上下文。如果你想引用以前对话中的任何信息，你需要在新提示中包含该上下文。
- en: 'Applying ChatGPT Roles (Application : AI CISO)'
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用 ChatGPT 角色（应用：AI CISO）
- en: In this recipe, we will demonstrate how you can use roles in your prompts to
    improve the accuracy and detail of ChatGPT’s responses. Assigning roles to ChatGPT
    helps it generate more context-aware and relevant content, particularly when you
    need expert-level insights or recommendations.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个示例中，我们将演示如何在你的提示中使用角色，以提高 ChatGPT 响应的准确性和详细程度。为 ChatGPT 分配角色有助于它生成更具上下文感知和相关性的内容，特别是当你需要专业水平的见解或建议时。
- en: Getting ready
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have access to the ChatGPT interface by logging in to your OpenAI
    account.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你可以访问 ChatGPT 界面，方法是登录你的 OpenAI 帐号。
- en: How to do it…
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'By assigning roles, you’ll be able to obtain expert-level insights and recommendations
    from the model. Let’s dive into the steps for this recipe:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 通过分配角色，您将能够从模型中获得专家级别的见解和建议。让我们深入了解此配方的步骤：
- en: 'To assign a role to ChatGPT, start your prompt by describing the role you want
    the model to assume. For example, you could use the following prompt:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要为 ChatGPT 分配一个角色，请在你的提示开头描述你希望模型扮演的角色。例如，你可以使用以下提示：
- en: '[PRE1]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'ChatGPT will generate a response that aligns with the assigned role, providing
    a detailed explanation of the topic based on the expertise and perspective of
    a cybersecurity expert:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ChatGPT 将生成一个符合分配角色的响应，根据网络安全专家的专业知识和观点提供关于该主题的详细解释：
- en: '![Figure 1.16 – ChatGPT response with role-based expertise](img/Figure_1.16_B21091.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.16 – 具有基于角色的专业知识的 ChatGPT 响应](img/Figure_1.16_B21091.jpg)'
- en: Figure 1.16 – ChatGPT response with role-based expertise
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – 具有基于角色的专业知识的 ChatGPT 响应
- en: 'Experiment with assigning different roles for different scenarios, such as
    the following:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 尝试为不同情景分配不同角色，例如以下情况：
- en: '[PRE2]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Alternatively, you can use the following:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 或者，你可以使用以下方式：
- en: '[PRE3]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Note of caution
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 注意事项
- en: Keep in mind that ChatGPT’s knowledge is based on the data it was trained on,
    which has a cutoff date of September 2021\. As a result, the model may not be
    aware of the latest developments, trends, or technologies in the cybersecurity
    field that emerged after its training data cutoff. Always verify the information
    generated by ChatGPT with up-to-date sources and take its training limitations
    into account when interpreting its responses. We will discuss techniques on how
    to get around this limitation later in this book.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，ChatGPT 的知识基于它所训练的数据，截止日期为 2021 年 9 月。因此，该模型可能不了解在其训练数据截止日期之后出现的网络安全领域的最新发展、趋势或技术。在解释其响应时，始终使用最新的来源验证
    ChatGPT 生成的信息，并考虑其训练限制。我们将在本书的后面讨论如何克服这一限制的技术。
- en: How it works…
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: When you assign a role to ChatGPT, you provide a specific context or persona
    for the model to work with. This helps the model generate responses that are tailored
    to the given role, resulting in more accurate, relevant, and detailed content.
    The model will generate content that aligns with the expertise and perspective
    of the assigned role, offering better insights, opinions, or recommendations.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 当你为 ChatGPT 分配一个角色时，你提供了一个特定的上下文或角色给模型参考。这有助于模型生成符合给定角色的响应，从而产生更准确、相关和详细的内容。该模型将生成符合分配角色的专业知识和观点的内容，提供更好的见解、意见或建议。
- en: There’s more…
  id: totrans-162
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'As you become more comfortable using roles in your prompts, you can experiment
    with different combinations of roles and scenarios to obtain the desired output
    for your cybersecurity tasks. For example, you can create a dialogue between two
    roles by alternating prompts for each role:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在提示中更加熟悉使用角色时，你可以尝试使用不同角色和场景的不同组合，以获得符合网络安全任务要求的期望输出。例如，你可以通过为每个角色交替提示来创建一个对话：
- en: '**Role 1**:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**角色 1**：'
- en: '[PRE4]'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: '**Role 2**:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**角色 2**：'
- en: '[PRE5]'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: By using roles creatively and experimenting with different combinations, you
    can leverage ChatGPT’s expertise and obtain more accurate and detailed responses
    for a wide range of cybersecurity topics and situations.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 通过创造性地使用角色并尝试不同的组合，你可以利用 ChatGPT 的专业知识，并获得更准确和详细的响应，涵盖了各种网络安全主题和情景。
- en: We will experiment with automating role conversations in later chapters.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在后面的章节中尝试自动化角色对话。
- en: 'Enhancing Output with Templates (Application: Threat Report)'
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用模板增强输出（应用：威胁报告）
- en: In this recipe, we will explore how to use output templates to guide ChatGPT’s
    responses, making them more consistent, well-structured, and suitable for reports
    or other formal documents. By providing a specific format for the output, you
    can ensure that the generated content meets your requirements and is easier to
    integrate into your cybersecurity projects.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在本配方中，我们将探讨如何使用输出模板来引导 ChatGPT 的响应，使其更加一致、结构良好，并适用于报告或其他正式文档。通过为输出提供一个具体的格式，你可以确保生成的内容符合你的要求，并且更容易集成到你的网络安全项目中。
- en: Getting ready
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have access to the ChatGPT interface by logging in to your OpenAI
    account.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你可以通过登录你的 OpenAI 帐户访问 ChatGPT 接口。
- en: How to do it…
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 怎么做…
- en: 'To get started, follow these steps:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请按照以下步骤进行：
- en: 'When crafting your prompt, you can specify the output of several different
    formatting options, such as headings, font weight, lists, and more. The following
    prompt demonstrates how to create output with headings, font weights, and list
    types:'
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在制作提示时，您可以指定几种不同格式选项的输出，如标题、字体加粗、列表等。以下提示演示了如何创建带有标题、字体加粗和列表类型的输出：
- en: '[PRE6]'
  id: totrans-177
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'ChatGPT will generate a response that follows the specified template, providing
    a well-structured and consistent output:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ChatGPT将生成符合指定模板的响应，提供结构良好且一致的输出：
- en: '![Figure 1.17 – ChatGPT response with formatting (headings, bold font, and
    lists)](img/Figure_1.17_B21091.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![图1.17 – ChatGPT响应与格式化（标题、粗体字体和列表）](img/Figure_1.17_B21091.jpg)'
- en: Figure 1.17 – ChatGPT response with formatting (headings, bold font, and lists)
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.17 – ChatGPT响应与格式化（标题、粗体字体和列表）
- en: '![Figure 1.18 – ChatGPT response with formatting (heading, lists, and italicized
    text)](img/Figure_1.18_B21091.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![图1.18 – ChatGPT响应与格式化（标题、列表和斜体文本）](img/Figure_1.18_B21091.jpg)'
- en: Figure 1.18 – ChatGPT response with formatting (heading, lists, and italicized
    text)
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.18 – ChatGPT响应与格式化（标题、列表和斜体文本）
- en: This formatted text is now more structured and can be easily transferred to
    other documents through copying and pasting while retaining its formatting.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，这种格式化的文本结构更加清晰，可以通过复制和粘贴轻松转移到其他文档中，并保留其格式。
- en: How it works…
  id: totrans-184
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: By providing a clear template for the output in your prompt, you guide ChatGPT
    to generate responses that adhere to the specified structure and formatting. This
    helps ensure that the generated content is consistent, well organized, and suitable
    for use in reports, presentations, or other formal documents. The model will focus
    on generating content that matches the output template formatting and structure
    you’ve provided while still delivering the information you requested.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在提示中为输出提供清晰的模板，您可以引导ChatGPT生成符合指定结构和格式的响应。这有助于确保生成的内容一致、组织良好，并适用于报告、演示文稿或其他正式文档中使用。模型将重点放在生成符合您提供的输出模板格式和结构的内容，同时仍然提供您请求的信息。
- en: 'The following conventions are used when formatting ChatGPT output:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在格式化ChatGPT输出时使用以下约定：
- en: To create a main `#`), followed by a space and the text of the heading. In this
    case, the main heading is *Threat Report*.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个主`#`)，后跟一个空格和标题的文本。在这种情况下，主标题是*威胁报告*。
- en: To create a `##`), followed by a space and the text of the subheading. In this
    case, the subheadings are *Overview*, *Cyber Kill Chain Analysis*, and *Mitigation
    Recommendations*. You can continue to create additional subheading levels by increasing
    the number of pound signs.
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个`##`)，后跟一个空格和子标题的文本。在这种情况下，子标题是*概述*、*网络攻击链分析*和*缓解建议*。您可以通过增加井号数来继续创建额外的子标题级别。
- en: To create `-`) or asterisk (`*`), followed by a space and the text of the bullet
    point. In this case, the bullet points are used in the *Overview* section to indicate
    the threat’s name, date of occurrence, industries affected, and impact.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个`-`)或星号（`*`），后跟一个空格和项目符号的文本。在这种情况下，项目符号在*概述*部分中用于指示威胁的名称、发生日期、受影响的行业和影响。
- en: To create `**`) or underscores (`__`) to surround the text you want to bold.
    In this case, each of the bullets and numbered list keywords were bolded.
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建`**`)或下划线（`__`）来包围要加粗的文本。在这种情况下，每个项目符号和编号列表关键词都被加粗。
- en: To `*`) or underscores (`_`) to surround the text you want to italicize. In
    this case, the second kill chain step is italicized using a pair of underscores.
    Here, italicized text is used for the *mitigations* *recommendations bullets*.
  id: totrans-191
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '要用`*`)或下划线（`_`）来包围您想要斜体的文本。在这种情况下，第二个攻击链步骤使用一对下划线斜体。这里，斜体文本用于*缓解建议项目符号*。  '
- en: To create a **numbered list**, use a number followed by a period and a space,
    followed by the text of the list item. In this case, the *Cyber Kill Chain Analysis
    section* is a numbered list.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建一个**编号列表**，请使用一个数字后跟一个句点和一个空格，然后是列表项的文本。在这种情况下，*网络攻击链分析部分*是一个编号列表。
- en: There’s more…
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: Combining templates with other techniques, such as roles, can further enhance
    the quality and relevance of the generated content. By applying both templates
    and roles, you can create output that is not only well-structured and consistent
    but also tailored to specific expert perspectives.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 结合模板和其他技术，如角色，可以进一步提升生成内容的质量和相关性。通过应用模板和角色，您可以创建不仅结构良好、一致性强，而且还符合特定专家观点的输出。
- en: As you become more comfortable using templates in your prompts, you can experiment
    with different formats, structures, and scenarios to obtain the desired output
    for your cybersecurity tasks. For example, in addition to text formatting, you
    can also use tables to organize the generated content even further, which is what
    we will cover in the next recipe.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 随着您在提示中使用模板变得更加舒适，您可以尝试不同的格式、结构和场景，以获得您的网络安全任务所需的输出。例如，除了文本格式化之外，您还可以使用表格来进一步组织生成的内容，这是我们将在下一个示例中介绍的内容。
- en: 'Formatting Output as a Table (Application: Security Controls Table)'
  id: totrans-196
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将输出格式化为表格（应用：安全控制表）
- en: In this recipe, we will demonstrate how to create prompts that guide ChatGPT
    to generate output in table format. Tables can be an effective way to organize
    and present information in a structured and easy-to-read manner. In this example,
    we will create a security controls comparison table.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我们将演示如何创建引导 ChatGPT 生成表格格式输出的提示。表格可以是一种有效的组织和展示信息的方式，结构化且易于阅读。在本示例中，我们将创建一个安全控制比较表。
- en: Getting ready
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have access to the ChatGPT interface by logging into your OpenAI
    account.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您通过登录您的 OpenAI 账户来访问 ChatGPT 界面。
- en: How to do it…
  id: totrans-200
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到...
- en: 'This example will demonstrate how to create a security controls comparison
    table. Let’s dive into the steps to achieve this:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 本示例将演示如何创建一个安全控制比较表。让我们深入了解如何实现这一目标：
- en: 'Craft your prompt by specifying the table format and the information you want
    to include. For this example, we will generate a table comparing different security
    controls:'
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过指定表格格式和您想要包含的信息来制作您的提示。对于本示例，我们将生成一个比较不同安全控制的表格：
- en: '[PRE7]'
  id: totrans-203
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'ChatGPT will generate a response containing a table with the specified columns,
    populated with relevant information:'
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: ChatGPT 将生成一个响应，其中包含一个具有指定列的表，填充有相关信息：
- en: '![Figure 1.19 – Snippet of a ChatGPT response with a table](img/Figure_1.19_B21091.jpg)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.19 – ChatGPT 响应片段，带有表格](img/Figure_1.19_B21091.jpg)'
- en: Figure 1.19 – Snippet of a ChatGPT response with a table
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19 – ChatGPT 响应片段，带有表格
- en: 'You can now easily copy and paste the generated table directly into a document
    or spreadsheet, where it can be further formatted and refined:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以轻松地将生成的表格直接复制粘贴到文档或电子表格中，然后可以进一步格式化和完善：
- en: '![Figure 1.20 – ChatGPT response copied/pasted directly into a spreadsheet](img/Figure_1.20_B21091.jpg)'
  id: totrans-208
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.20 – ChatGPT 响应直接复制/粘贴到电子表格中](img/Figure_1.20_B21091.jpg)'
- en: Figure 1.20 – ChatGPT response copied/pasted directly into a spreadsheet
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20 – ChatGPT 响应直接复制/粘贴到电子表格中
- en: How it works…
  id: totrans-210
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: By specifying the table format and required information in your prompt, you
    guide ChatGPT to generate content in a structured, tabular manner. The model will
    focus on generating content that matches the specified format and populating the
    table with the requested information. The ChatGPT interface automatically understands
    how to provide table formatting using markdown language, which is then interpreted
    by the browser.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在提示中指定表格格式和所需信息，您引导 ChatGPT 以结构化的、表格化的方式生成内容。模型将专注于生成符合指定格式的内容，并填充表格所需的信息。ChatGPT
    界面会自动理解如何使用 markdown 语言提供表格格式，然后由浏览器解释。
- en: In this example, we asked ChatGPT to create a table comparing five different
    security controls with columns for **Control Name**, **Description**, **Implementation
    Cost**, **Maintenance Cost**, **Effectiveness**, and **Ease of Implementation**.
    The resulting table provides an organized and easy-to-understand overview of the
    different security controls.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我们要求 ChatGPT 创建一个比较五种不同安全控制的表格，其中包括**控制名称**、**描述**、**实施成本**、**维护成本**、**有效性**和**实施易用性**等列。生成的表格提供了不同安全控制的有组织、易于理解的概览。
- en: There’s more…
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: As you become more comfortable using tables in your prompts, you can experiment
    with different formats, structures, and scenarios to obtain the desired output
    for your cybersecurity tasks. You can also combine tables with other techniques,
    such as roles and templates, to further enhance the quality and relevance of the
    generated content.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 随着您在提示中使用表格变得更加熟练，您可以尝试不同的格式、结构和场景，以获得您的网络安全任务所需的输出。您还可以将表格与其他技术（如角色和模板）结合使用，以进一步提高生成内容的质量和相关性。
- en: By using tables creatively and experimenting with different combinations, you
    can leverage ChatGPT’s capabilities to generate structured and organized content
    for various cybersecurity topics and situations.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 通过创造性地使用表格并尝试不同的组合，您可以利用ChatGPT的能力来为各种网络安全主题和情况生成结构化和有组织的内容。
- en: Setting the OpenAI API Key as an Environment Variable
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将OpenAI API密钥设置为环境变量
- en: In this recipe, we will show you how to set up your OpenAI API key as an environment
    variable. This is an essential step as it allows you to use the API key in your
    Python code without hardcoding it, which is a best practice for security purposes.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将向您展示如何将您的OpenAI API密钥设置为环境变量。这是一个重要的步骤，因为它允许您在Python代码中使用API密钥而不是硬编码，这是出于安全目的的最佳做法。
- en: Getting ready
  id: totrans-218
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that you have already obtained your OpenAI API key by signing up for
    an account and accessing the API key section, as outlined in the *Creating an
    API key and interacting with* *OpenAI* recipe.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您已经通过注册帐户并访问API密钥部分获得了您的OpenAI API密钥，如*创建API密钥和与OpenAI互动*教程中所述。
- en: How to do it…
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做...
- en: This example will demonstrate how to set up your OpenAI API key as an environment
    variable for secure access in your Python code. Let’s dive into the steps to achieve
    this.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 此示例将演示如何将您的OpenAI API密钥设置为环境变量，以在您的Python代码中安全访问。让我们深入了解实现这一目标的步骤。
- en: Set up the API key as an environment variable on your operating system.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的操作系统上设置API密钥作为环境变量。
- en: For Windows
  id: totrans-223
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 对于Windows
- en: Open the Start menu, search for `Environment Variables`, and click **Edit the
    system** **environment variables**.
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开开始菜单，搜索`环境变量`，然后点击**编辑系统** **环境变量**。
- en: In the **System Properties** window, click the **Environment** **Variables**
    button.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**系统属性**窗口中，点击**环境** **变量**按钮。
- en: In the **Environment Variables** window, click **New** under **User variables**
    or **System variables** (depending on your preference).
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**环境变量**窗口中，点击**用户变量**或**系统变量**下的**新建**（取决于您的偏好）。
- en: Enter `OPENAI_API_KEY` as the variable’s name and paste your API key as the
    variable value. Click **OK** to save the new environment variable.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将`OPENAI_API_KEY`作为变量名称，并将您的API密钥粘贴为变量值。点击**确定**保存新的环境变量。
- en: For macOS/Linux
  id: totrans-228
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 对于macOS/Linux
- en: Open a Terminal window.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开终端窗口。
- en: 'Add the API key to your shell configuration file (such as `.bashrc`, .`zshrc`,
    or `.profile`) by running the following command (replace `your_api_key` with your
    actual API key):'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过运行以下命令（将`your_api_key`替换为您的实际API密钥），将API密钥添加到您的shell配置文件（例如`.bashrc`、`.zshrc`或`.profile`）中：
- en: '[PRE8]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Tip
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: If you are using a different shell configuration file, replace `~/.bashrc` with
    the appropriate file (for example, `., ~/.zshrc` or `~/.profile`).
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用不同的shell配置文件，请用适当的文件（例如`.bashrc`、`.zshrc`或`.profile`）替换`~/.bashrc`。
- en: Restart Terminal or run `source ~/.bashrc` (or the appropriate configuration
    file) to apply the changes.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启动终端或运行`source ~/.bashrc`（或适当的配置文件）以应用更改。
- en: 'Access the API key in your Python code using the `os` module:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`os`模块在你的Python代码中访问API密钥：
- en: '[PRE9]'
  id: totrans-236
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Important note
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: There are many different versions of Linux and Unix-based systems, and the exact
    syntax for setting environment variables might differ slightly from what is presented
    here. However, the general approach should be similar. If you encounter issues,
    consult the documentation specific to your system for guidance on setting environment
    variables.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: Linux和基于Unix的系统有许多不同版本，设置环境变量的确切语法可能与此处所示略有不同。但是，一般的方法应该是类似的。如果遇到问题，请查阅您系统特定的文档，了解有关设置环境变量的指导。
- en: How it works…
  id: totrans-239
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: By setting up the OpenAI API key as an environment variable, you make it available
    for use in your Python code without hardcoding the key, which is a security best
    practice. In the Python code, you use the `os` module to access the API key from
    the environment variable you created earlier.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将OpenAI API密钥设置为环境变量，您可以在Python代码中使用它，而无需将密钥硬编码，这是一种安全最佳实践。在Python代码中，您可以使用`os`模块从先前创建的环境变量中访问API密钥。
- en: Using environment variables is a common practice when working with sensitive
    data, such as API keys or other credentials. This approach allows you to separate
    your code from your sensitive data and makes it easier to manage your credentials
    as you only need to update them in one place (the environment variables). Additionally,
    it helps prevent accidental exposure of sensitive information when you’re sharing
    code with others or publishing it in public repositories.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理敏感数据（如API密钥或其他凭证）时，使用环境变量是一个常见的做法。这种方法允许您将您的代码与敏感数据分离开来，并使您更容易地管理您的凭证，因为您只需要在一个地方更新它们（即环境变量）。此外，它还有助于在您与他人共享代码或在公共代码库中发布代码时，防止意外暴露敏感信息。
- en: There’s more…
  id: totrans-242
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容…
- en: In some cases, you may want to use a Python package such as `python-dotenv`
    to manage your environment variables. This package allows you to store your environment
    variables in a `.env` file, which you can load in your Python code. The advantage
    of this approach is that you can keep all your project-specific environment variables
    in a single file, making it easier to manage and share your project settings.
    Keep in mind, though, that you should never commit the `.env` file to a public
    repository; always include it in your `.gitignore` file or similar version control
    ignore configuration.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些情况下，您可能希望使用如`python-dotenv`这样的Python包来管理环境变量。这个包允许你将环境变量存储在`.env`文件中，并且你可以在Python代码中加载它。这种方法的优点是你可以将所有与项目相关的环境变量保存在单个文件中，从而更容易地管理和共享你的项目设置。不过要记住，你永远不应该将`.env`文件提交到公共的代码库中；要么将它包含在你的`.gitignore`文件或其他忽略版本控制的配置文件中。
- en: Sending API Requests and Handling Responses with Python
  id: totrans-244
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Python发送API请求和处理响应
- en: In this recipe, we will explore how to send requests to the OpenAI GPT API and
    handle the responses using Python. We’ll walk through the process of constructing
    API requests, sending them, and processing the responses using the `openai` module.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，我们将探讨如何使用Python发送请求到OpenAI GPT API，以及如何处理响应。我们将逐步讲解构建API请求的过程，发送请求和使用`openai`模块处理响应。
- en: Getting ready
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: Ensure you have Python installed on your system.
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在您的系统上安装了Python。
- en: 'Install the OpenAI Python module by running the following command in your Terminal
    or command prompt:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在终端或命令提示符中运行以下命令以安装OpenAI Python模块：
- en: '[PRE10]'
  id: totrans-249
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: How to do it…
  id: totrans-250
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 怎么做…
- en: 'The importance of using the API lies in its ability to communicate with and
    get valuable insights from ChatGPT in real time. By sending API requests and handling
    responses, you can harness the power of GPT to answer questions, generate content,
    or solve problems in a dynamic and customizable way. In the following steps, we’ll
    demonstrate how to construct API requests, send them, and process the responses,
    enabling you to effectively integrate ChatGPT into your projects or applications:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 使用API的重要性在于其在与ChatGPT实时通信并获取有价值的见解方面的能力。通过发送API请求和处理响应，您可以利用GPT的强大功能来回答问题、生成内容或以动态和可定制的方式解决问题。在接下来的步骤中，我们将演示如何构建API请求、发送请求和处理响应，使您能够有效地将ChatGPT集成到您的项目或应用程序中：
- en: 'Start by importing the required modules:'
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先导入所需的模块：
- en: '[PRE11]'
  id: totrans-253
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Set up your API key by retrieving it from an environment variable, as we did
    in the *Setting the OpenAI API key as an Environment* *Variable* recipe:'
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过检索环境变量来设置API密钥，就像在 *将OpenAI API密钥设置为环境变量* 配方中所做的那样：
- en: '[PRE12]'
  id: totrans-255
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Define a function to send a prompt to the OpenAI API and receive a response:'
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个函数来向OpenAI API发送提示信息并接收响应：
- en: '[PRE13]'
  id: totrans-257
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Call the function with a prompt to send a request and receive a response:'
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用提示调用函数来发送请求并接收响应：
- en: '[PRE14]'
  id: totrans-259
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: How it works…
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: First, we import the required modules. The `openai` module is the OpenAI API
    library, and the `os` module helps us retrieve the API key from an environment
    variable.
  id: totrans-261
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们导入所需的模块。`openai`模块是OpenAI API库，而`os`模块帮助我们从环境变量中检索API密钥。
- en: We set up the API key by retrieving it from an environment variable using the
    `os` module.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们通过使用`os`模块从环境变量中检索API密钥来设置API密钥。
- en: 'Next, we define a function called `get_chat_gpt_response()` that takes a single
    argument: the prompt. This function sends a request to the OpenAI API using the
    `openai.Completion.create()` method. This method has several parameters:'
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们定义一个名为`get_chat_gpt_response()`的函数，它接受一个参数：提示信息。这个函数使用`openai.Completion.create()`方法向OpenAI
    API发送请求。这个方法有几个参数：
- en: '`engine`: Here, we specify the engine (in this case, `chat-3.5-turbo`).'
  id: totrans-264
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`engine`：在这里，我们指定引擎（在本例中为`chat-3.5-turbo`）。'
- en: '`prompt`: The input text for the model to generate a response.'
  id: totrans-265
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`prompt`：用于模型生成响应的输入文本。'
- en: '`max_tokens`: The maximum number of tokens in the generated response. A token
    can be as short as one character or as long as one word.'
  id: totrans-266
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`max_tokens`：生成响应中的标记的最大数量。标记可以短至一个字符或长至一个单词。'
- en: '`n`: The number of generated responses you want to receive from the model.
    In this case, we’ve set it to `1` to receive a single response.'
  id: totrans-267
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`n`：您希望从模型接收的生成响应的数量。在本例中，我们将其设置为`1`以接收单个响应。'
- en: '`stop`: A sequence of tokens that, if encountered by the model, will stop the
    generation process. This can be useful for limiting the response’s length or stopping
    at specific points, such as the end of a sentence or paragraph.'
  id: totrans-268
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`stop`：如果模型遇到的令牌序列将停止生成过程。这对于限制响应的长度或停止在特定点（例如句子或段落的末尾）非常有用。'
- en: '`temperature`: A value that controls the randomness of the generated response.
    A higher temperature (for example, 1.0) will result in more random responses,
    while a lower temperature (for example, 0.1) will make the responses more focused
    and deterministic.'
  id: totrans-269
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`temperature`：控制生成响应的随机性的值。较高的温度（例如，1.0）会导致更随机的响应，而较低的温度（例如，0.1）会使响应更加集中和确定性。'
- en: Finally, we call the `get_chat_gpt_response()` function with a prompt, send
    the request to the OpenAI API, and receive the response. The function returns
    the response text, which is then printed to the console. The function returns
    the response text, which is then printed to the console. The `return response.choices[0].message.content.strip()`
    line of code retrieves the generated response text by accessing the first choice
    (`index 0`) in the list of choices.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们调用`get_chat_gpt_response()`函数并提供提示，向OpenAI API发送请求，接收响应。该函数返回响应文本，然后将其打印到控制台。`return
    response.choices[0].message.content.strip()`代码行通过访问选择列表中的第一个选择（`index 0`）来检索生成的响应文本。
- en: '`response.choices` is a list of generated responses from the model. In our
    case, since we set `n=1`, there is only one response in the list. The `.text`
    attribute retrieves the actual text of the response, and the `.strip()` method
    removes any leading or trailing whitespace.'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`response.choices`是从模型生成的响应列表。在我们的情况下，由于我们设置了`n=1`，因此列表中只有一个响应。`.text`属性检索响应的实际文本，`.strip()`方法删除任何前导或尾随空格。'
- en: 'For example, a non-formatted response from the OpenAI API may look like this:'
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 例如，来自OpenAI API的非格式化响应可能如下所示：
- en: '[PRE15]'
  id: totrans-273
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'In this example, we access the response text using `response.choices[0].text.strip()`,
    which returns the following text:'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在本示例中，我们使用`response.choices[0].text.strip()`访问响应文本，返回以下文本：
- en: '[PRE16]'
  id: totrans-275
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: There’s more…
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: You can further customize the API request by modifying the parameters in the
    `openai.Completion.create()` method. For example, you can adjust the temperature
    to get more creative or focused responses, change the `max_tokens` value to limit
    or expand the length of the generated content, or use the `stop` parameter to
    define specific stopping points for the response generation.
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过修改`openai.Completion.create()`方法中的参数来进一步定制API请求。例如，您可以调整温度以获得更有创意或更有焦点的响应，将`max_tokens`值更改为限制或扩展生成内容的长度，或者使用`stop`参数来定义响应生成的特定停止点。
- en: Additionally, you can experiment with the `n` parameter to generate multiple
    responses and compare their quality or variety. Keep in mind that generating multiple
    responses will consume more tokens and may affect the cost and execution time
    of the API request.
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您可以通过调整`n`参数来生成多个响应并比较它们的质量或多样性。请记住，生成多个响应将消耗更多的标记，并可能影响API请求的成本和执行时间。
- en: It’s essential to understand and fine-tune these parameters to get the desired
    output from ChatGPT since different tasks or scenarios may require different levels
    of creativity, response length, or stopping conditions. As you become more familiar
    with the OpenAI API, you’ll be able to leverage these parameters effectively to
    tailor the generated content to your specific cybersecurity tasks and requirements.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 了解和微调这些参数以从ChatGPT获取所需的输出非常重要，因为不同的任务或场景可能需要不同水平的创造力、响应长度或停止条件。随着您对OpenAI API的了解越来越深入，您将能够有效地利用这些参数，以便根据您特定的网络安全任务和要求定制生成的内容。
- en: Using Files for Prompts and API Key Access
  id: totrans-280
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用文件进行提示和API密钥访问
- en: In this recipe, you will learn how to use external text files to store and retrieve
    prompts for interacting with the OpenAI API through Python. This method allows
    for better organization and easier maintenance as you can quickly update the prompt
    without modifying the main script. We will also introduce a new method of accessing
    the OpenAI API key – that is, using files – making the process of changing the
    API key much more flexible.
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，你将学习如何使用外部文本文件来存储和检索与Python通过OpenAI API进行交互的提示。这种方法允许更好的组织和更容易的维护，因为你可以快速更新提示而不需要修改主要脚本。我们还将介绍一种访问OpenAI
    API密钥的新方法 - 即使用文件 - 使更改API密钥的过程更加灵活。
- en: Getting ready
  id: totrans-282
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have access to the OpenAI API and have set up your API key according
    to the *Creating an API key and interacting with OpenAI* and *Setting the OpenAI
    API key as an Environment* *Variable* recipes.
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你能够访问OpenAI API，并根据*创建API密钥并与OpenAI进行交互*和*将OpenAI API密钥设置为环境变量*配方进行了设置。
- en: How to do it…
  id: totrans-284
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'This recipe demonstrates a practical approach to managing prompts and API keys,
    making it easier to update and maintain your code. By using external text files,
    you can efficiently organize your project and collaborate with others. Let’s walk
    through the steps to implement this method:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 这个配方演示了一个实用的管理提示和API密钥的方法，使得更新和维护你的代码更加容易。通过使用外部文本文件，你可以有效地管理项目并与他人合作。让我们一起来实施这种方法的步骤：
- en: Create a new text file and save it as `prompt.txt`. Write your desired prompt
    inside this file and save it.
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的文本文件，并将其保存为`prompt.txt`。在这个文件中写下你想要的提示，并保存。
- en: 'Modify your Python script so that it includes a function to read the contents
    of a text file:'
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改你的Python脚本，以包含一个函数来读取文本文件的内容：
- en: '[PRE17]'
  id: totrans-288
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Using the script from the *Sending API Requests and Handling Responses with
    Python* recipe, replace the hardcoded prompt with a call to the `open_file` function,
    passing the path to the `prompt.txt` file as an argument:'
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在*使用Python发送API请求并处理响应*配方中使用脚本，将硬编码的提示替换为调用`open_file`函数，将`prompt.txt`文件的路径作为参数传递：
- en: '[PRE18]'
  id: totrans-290
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Create a file called `prompt.txt` and enter the following prompt text (the
    same prompt as in the *Sending API Requests and Handling Responses with* *Python*
    recipe):'
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`prompt.txt`的文件并输入以下提示文本（与*使用Python发送API请求并处理响应*配方中的提示相同）：
- en: '[PRE19]'
  id: totrans-292
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Set up your API key using a file instead of environment variables:'
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用文件而不是环境变量设置API密钥：
- en: '[PRE20]'
  id: totrans-294
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Important note
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: It’s important to place this line of code after the `open_file` function; otherwise,
    Python will throw an error for calling a function that has not been declared yet.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 很重要的一点是，将这行代码放在`open_file`函数之后；否则，Python会因为调用尚未声明的函数而抛出错误。
- en: Create a file called `openai-key.txt` and paste your **OpenAI API key** into
    the file with nothing else.
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`openai-key.txt`的文件，并将你的**OpenAI API密钥**粘贴到该文件中，而不包括其他内容。
- en: Use the prompt variable in your API call as you normally would.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在API调用中像往常一样使用提示变量。
- en: 'Here is an example of how the modified script from the *Sending API Requests
    and Handling Responses with Python* recipe would look:'
  id: totrans-299
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这里是一个示例，展示了修改自*使用Python发送API请求并处理响应*配方的脚本会是什么样子：
- en: '[PRE21]'
  id: totrans-300
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: How it works...
  id: totrans-301
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The `open_file()` function takes a file path as an argument and opens the file
    using the `with open` statement. It reads the file’s content and returns it as
    a string. This string is then used as the prompt for the API call. A second `open_file()`
    function call is used to access a text file containing the OpenAI API key instead
    of accessing the API key using environment variables.
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '`open_file()`函数接受一个文件路径作为参数，并使用`with open`语句打开文件。它读取文件的内容并将其作为字符串返回。然后，这个字符串被用作API调用的提示。第二个`open_file()`函数调用是用来访问一个包含OpenAI
    API密钥的文本文件，而不是使用环境变量来访问API密钥。'
- en: By using an external text file for the prompt and to access the API key, you
    can easily update or change both without needing to modify the main script or
    environment variables. This can be particularly helpful when you’re working with
    multiple prompts or collaborating with others.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用外部文本文件来存储提示和访问API密钥，你可以轻松更新或更改两者，而不需要修改主要脚本或环境变量。当你使用多个提示或与他人合作时，这一点尤其有帮助。
- en: Note of caution
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 注意事项
- en: Using this technique to access your API key does come with a certain level of
    risk. A text file is easier to discover and access than an environment variable,
    so be sure to take the necessary security precautions. It is also important to
    remember to remove your API key from the `openapi-key.txt` file before you share
    your script with others, to prevent unintended and/or unauthorized charges to
    your OpenAI account.
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 使用此技术访问您的API密钥确实存在一定的风险。与环境变量相比，文本文件更容易被发现和访问，因此请确保采取必要的安全预防措施。重要的是要记住，在与他人分享脚本之前，从`openapi-key.txt`文件中删除您的API密钥，以防止对您的OpenAI账户进行无意或未经授权的扣费。
- en: There’s more...
  id: totrans-306
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: You can also use this method to store other parameters or configurations that
    you may want to change frequently or share with others. This could include API
    keys, model parameters, or any other settings relevant to your use case.
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用此方法存储您可能希望频繁更改或与他人分享的其他参数或配置。这可能包括API密钥、模型参数或与您的用例相关的任何其他设置。
- en: 'Using Prompt Variables (Application: Manual Page Generator)'
  id: totrans-308
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用提示变量（应用程序：手动页生成器）
- en: In this recipe, we’ll create a Linux-style manual page generator that will accept
    user input in the form of a tool’s name, and our script will generate the manual
    page output, similar to entering the `man` command in Linux Terminal. In doing
    so, we will learn how to use variables in a text file to create a standard prompt
    *template* that can be easily modified by changing certain aspects of it. This
    approach is particularly useful when you want to use user input or other dynamic
    content as part of the prompt while maintaining a consistent structure.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 在此示例中，我们将创建一个类似Linux风格的手动页生成器，它将接受用户输入，然后我们的脚本将生成手动页输出，类似于在Linux终端中输入`man`命令。通过这样做，我们将学习如何在文本文件中使用变量来创建一个标准的提示*模板*，可以通过修改其中的某些方面来轻松修改。当您希望使用用户输入或其他动态内容作为提示的一部分并保持一致的结构时，此方法特别有用。
- en: Getting ready
  id: totrans-310
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure you have access to the ChatGPT API by logging in to your OpenAI account
    and have Python and the `openai` module installed.
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您通过登录到您的OpenAI账户并安装Python和`openai`模块来访问ChatGPT API。
- en: How to do it…
  id: totrans-312
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Using a text file that contains the prompt and placeholder variables, we can
    create a Python script that will replace the placeholder with user input. In this
    example, we will use this technique to create a Linux-style manual page generator.
    Here are the steps:'
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 使用包含提示和占位符变量的文本文件，我们可以创建一个Python脚本，用于将占位符替换为用户输入。在本示例中，我们将使用此技术创建一个类似Linux风格的手动页生成器。以下是步骤：
- en: 'Create a Python script and import the necessary modules:'
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个Python脚本并导入必要的模块：
- en: '[PRE22]'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Define a function to open and read a file:'
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义一个函数来打开和读取文件：
- en: '[PRE23]'
  id: totrans-317
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'Set up your API key:'
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置您的API密钥：
- en: '[PRE24]'
  id: totrans-319
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE24]'
- en: Create the `openai-key.txt` file in the same manner as the previous recipe.
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以与上一个步骤相同的方式创建`openai-key.txt`文件。
- en: 'Define the `get_chat_gpt_response()` function to send the prompt to ChatGPT
    and obtain a response:'
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 定义`get_chat_gpt_response()`函数，以将提示发送到ChatGPT并获取响应：
- en: '[PRE25]'
  id: totrans-322
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Receive user input for the filename and read the content of the file:'
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接收文件名的用户输入并读取文件内容：
- en: '[PRE26]'
  id: totrans-324
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE26]'
- en: 'Replace the `<<INPUT>>` variable in the `prompt.txt` file with the content
    of the file:'
  id: totrans-325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 用文件内容替换`prompt.txt`文件中的`<<INPUT>>`变量：
- en: '[PRE27]'
  id: totrans-326
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Create the `prompt.txt` file with the following text:'
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建包含以下文本的`prompt.txt`文件：
- en: '[PRE28]'
  id: totrans-328
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Send the modified prompt to the `get_chat_gpt_response()` function and print
    the result:'
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将修改后的提示发送到`get_chat_gpt_response()`函数并打印结果：
- en: '[PRE29]'
  id: totrans-330
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Here’s an example of how the complete script should look:'
  id: totrans-331
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是完整脚本的示例：
- en: '[PRE30]'
  id: totrans-332
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE30]'
- en: How it works…
  id: totrans-333
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: '工作原理… '
- en: 'In this example, we created a Python script that utilizes a text file as a
    prompt template. The text file contains a variable called `<<INPUT>>` that can
    be replaced with any content, allowing for dynamic modification of the prompt
    without the need to change the overall structure. Specifically for this case,
    we are replacing it with user input:'
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 在本示例中，我们创建了一个Python脚本，利用文本文件作为提示模板。文本文件包含一个名为`<<INPUT>>`的变量，可以替换为任何内容，允许动态修改提示而无需更改整体结构。特别是在这种情况下，我们将其替换为用户输入：
- en: The `openai` module is imported to access the ChatGPT API, and the `os` module
    is imported to interact with the operating system and manage environment variables.
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导入`openai`模块以访问ChatGPT API，并导入`os`模块以与操作系统进行交互并管理环境变量。
- en: The `open_file()` function is defined to open and read a file. It takes a file
    path as an argument, opens the file with read access and UTF-8 encoding, reads
    the content, and then returns the content.
  id: totrans-336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`open_file()`函数被定义为打开和读取文件。它接受文件路径作为参数，使用读取访问和UTF-8编码打开文件，读取内容，然后返回内容。'
- en: The API key for accessing ChatGPT is set up by reading it from a file using
    the `open_file()` function and then assigning it to `openai.api_key`.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过使用`open_file()`函数从文件中读取API密钥，并将其分配给`openai.api_key`来设置访问ChatGPT的API密钥。
- en: The `get_chat_gpt_response()` function is defined to send a prompt to ChatGPT
    and return the response. It takes the prompt as an argument, configures the API
    request with the desired settings, and then sends the request to the ChatGPT API.
    It extracts the response text, removes leading and trailing whitespaces, and returns
    it.
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`get_chat_gpt_response()`函数被定义为向ChatGPT发送提示并返回响应。它接受提示作为参数，使用所需的设置配置API请求，然后将请求发送到ChatGPT
    API。它提取响应文本，删除前导和尾随空白，并返回它。'
- en: The script receives user input for the Linux command. This content will be used
    to replace the placeholder in the prompt template.
  id: totrans-339
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 脚本接收Linux命令的用户输入。此内容将用于替换提示模板中的占位符。
- en: The `<<INPUT>>` variable in the `prompt.txt` file is replaced with the content
    of the file provided by the user. This is done using Python’s string `replace()`
    method, which searches for the specified placeholder and replaces it with the
    desired content.
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`prompt.txt`文件中的`<<INPUT>>`变量被用户提供的文件内容替换。这是使用Python的字符串`replace()`方法完成的，该方法搜索指定的占位符并用所需内容替换它。
- en: '`man` command.'
  id: totrans-341
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`man`命令。'
- en: The modified prompt, with the `<<INPUT>>` placeholder replaced, is sent to the
    `get_chat_gpt_response()` function. The function sends the prompt to ChatGPT,
    which retrieves the response, and the script prints the analysis result. This
    demonstrates how to use a prompt template with a variable that can be replaced
    to create customized prompts for different inputs.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改后的提示，带有`<<INPUT>>`占位符替换，被发送到`get_chat_gpt_response()`函数。该函数将提示发送到ChatGPT，ChatGPT检索响应，脚本打印分析结果。这演示了如何使用带有可替换变量的提示模板，为不同输入创建定制的提示。
- en: This approach is particularly useful in a cybersecurity context as it allows
    you to create standard prompt templates for different types of analysis or queries
    and easily modify the input data as needed.
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法在网络安全环境中特别有用，因为它允许您为不同类型的分析或查询创建标准提示模板，并根据需要轻松修改输入数据。
- en: There’s more...
  id: totrans-344
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: '**Use multiple variables in your prompt template**: You can use more than one
    variable in your prompt template to make it even more versatile. For example,
    you can create a template with placeholders for different components of a cybersecurity
    analysis, such as IP addresses, domain names, and user agents. Just make sure
    you replace all the necessary variables before sending the prompt to ChatGPT.'
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**在提示模板中使用多个变量**：您可以在提示模板中使用多个变量，使其更加灵活多变。例如，您可以创建一个包含不同组件占位符的模板，用于网络安全分析，如IP地址、域名和用户代理。只需确保在发送提示到ChatGPT之前替换所有必要的变量。'
- en: '`<<INPUT>>` format, you can customize your variable format to better suit your
    needs or preferences. For example, you can use curly braces (for example, `{input}`)
    or any other format that you find more readable and manageable.'
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`<<INPUT>>`格式，您可以自定义变量格式以更好地适应您的需求或偏好。例如，您可以使用花括号（例如，`{input}`）或任何您认为更可读和可管理的格式。'
- en: '`open_file()` function to read an environment variable instead of a file, ensuring
    that sensitive data is not accidentally leaked or exposed.'
  id: totrans-347
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '`open_file()`函数读取环境变量而不是文件，确保敏感数据不会意外泄漏或暴露。'
- en: '**Error handling and input validation**: To make your script more robust, you
    can add error handling and input validation. This can help you catch common issues,
    such as missing or improperly formatted files, and provide clear error messages
    to guide the user in correcting the problem.'
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**错误处理和输入验证**：为了使脚本更加健壮，您可以添加错误处理和输入验证。这可以帮助您捕获常见问题，例如丢失或格式不正确的文件，并为用户提供清晰的错误消息以指导其纠正问题。'
- en: By exploring these additional techniques, you can create more powerful, flexible,
    and secure prompt templates for use with ChatGPT in your cybersecurity projects.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: 通过探索这些额外的技术，您可以为在您的网络安全项目中与ChatGPT一起使用创建更强大、灵活和安全的提示模板。
