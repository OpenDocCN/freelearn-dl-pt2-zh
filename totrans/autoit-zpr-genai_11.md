# 9

# 探索内置应用程序来提取和编译数据

正如我们在*第六章*中讨论的，*创建多步 Zaps 和使用内置应用程序*，Zapier 的强大功能在于您可以利用 Zapier 的内置应用程序。在本章中，我们将向您介绍从电子邮件中提取数据、使用 RSS 订阅和创建数据摘要的内置应用程序。我们将描述它们的功能，并提供如何使用它们的实用技巧。

在*第八章*中，*内置通信应用程序*，我们介绍了内置通信应用程序。因此，在本章中，我们将以类似主题开始，讨论如何使用 Zapier 的 Email Parser 从电子邮件中提取数据。然后，我们将探讨如何使用 RSS by Zapier 在自动化中使用 RSS 订阅阅读器。之后，我们将深入探讨如何使用 Zapier 的 Digest 来编译数据摘要。最后，我们将通过一个练习来构建一个使用 Zapier 的 RSS 和 Digest 的 Zap。

本章中我们将涵盖以下关键主题：

+   通过 Zapier 的 Email Parser – 从邮件中提取数据

+   通过 Zapier 的 RSS – 使用 RSS 订阅阅读器

+   通过 Zapier 的摘要 – 编译数据摘要

+   练习 – 创建具有 RSS 订阅摘要的多步 Zap

一旦您完成了这些主题，您将知道如何从电子邮件消息中解析数据，使用 RSS 订阅阅读器，以及编译数据摘要。

# 技术要求

要充分利用本章的内容和练习，您将需要访问 Zapier 帐户。Zapier 入门套餐就足够了。您可以在此处获取本章中使用的 Zap 模板：[`bit.ly/zapier-book`](https://bit.ly/zapier-book)。使用这些模板将帮助您可视化该过程是如何运作的。

# Zapier 的 Email Parser – 从邮件中提取数据

Zapier 的 Email Parser 内置应用程序允许您从转发到唯一的`@robot.zapier.com`电子邮件地址的电子邮件中提取数据。通过教授 Zapier 的 Email Parser 理解您发送给它的电子邮件中的模式，它可以始终地为您提取这些信息供您在工作流程的其他步骤中使用。

Zapier 的 Email Parser 仅能作为工作流程起始步骤中的触发器来使用，它可以用作以下触发事件：

+   **新邮件**

+   **新邮箱**

让我们分别看看。

## 新邮件的触发事件

当收到新邮件时，可以使用此触发器事件来开始工作流程。它通过使用唯一的`@robot.zapier.com`电子邮件地址来转发电子邮件来实现。最佳做法是设置多个邮箱来处理不同的工作流程。

以下是使用 Zapier 的 Email Parser 的几个示例**新邮件**触发事件的时候：

+   如果您在网页表单提交后通过电子邮件接收信息摘要，您可能想将这些详细信息添加到诸如**Close.io**或**Airtable**等 CRM 中

+   如果你在销售后通过电子邮件收到客户付款和结算信息，你可能希望将这些详情添加到你的会计应用中，比如**QuickBooks Online**或 Xero

+   如果你在特定邮箱收到电子邮件咨询，你可能希望为你的团队创建一个任务来处理任务管理应用中的咨询，比如 Trello 或 Asana

让我们来探索如何设置这个触发事件。

### 设置新邮件触发事件

我们来看看如何设置**新邮件**触发事件：

1.  一旦你已经添加了这个触发步骤到你的工作流程（到**1. 触发**），并选择了**Zapier**作为应用和**新邮件**作为触发事件，你可以选择**继续**。

1.  在**选择账户**部分，点击**登录到 Email Parser by Zapier**按钮以创建一个新的 Email Parser by Zapier 账户。

1.  一个新的弹出窗口将会显示。选择**使用您的 Zapier 账户登录**按钮以使用你的 Zapier 账户凭据登录。要使用备用用户名和密码，输入这些详情到提供的框中，然后选择**登录**按钮。如下截图所示：

![图 9.1 – 登录到 Email Parser by Zapier](img/B18474_09_01.jpg)

图 9.1 – 登录到 Email Parser by Zapier

1.  点击**授权**按钮，允许 Zapier 连接到 Email Parser by Zapier。你还可以点击**取消**按钮来取消。

1.  在下一个屏幕上，需要进一步的验证，所以点击**授权**按钮。一旦授权，你将会被重定向回到触发步骤。

在我们定制触发步骤之前，我们需要在 Zapier 的 Email Parser 账户中创建一个新邮箱。我们接下来将看一下如何做到这一点。

#### 在 Email Parser by Zapier 账户中设置邮箱和映射模板

我们现在需要创建一个邮箱，转发一个电子邮件模板，映射我们的数据，并修改解析映射设置。为了说明这一点，我们将使用网页表单提交的例子，我们想要提取姓名、电子邮件地址、服务和咨询详情。让我们通过以下每个步骤来开始吧：

1.  转到 [parser.zapier.com](https://parser.zapier.com) 并登录到你的 Email Parser by Zapier 账户，可以通过使用你的 Zapier 账户登录或添加单独的登录详情。

1.  点击橘色的**创建邮箱**按钮以创建一个新邮箱。新的邮箱地址将会被提供，如下截图所示：

![图 9.2 – Zapier 邮件解析器创建邮箱](img/B18474_09_02.jpg)

图 9.2 – Zapier 邮件解析器创建邮箱

1.  复制所提供的邮箱地址，并将你想要解析的电子邮件示例发送到邮箱。你可以通过点击**刷新页面查找新邮件**按钮来刷新页面查找新的电子邮件；也可以每隔 10 秒自动刷新。或者，点击**跳过等待**链接来跳过刷新。

1.  一旦收到新的电子邮件，请执行以下操作从电子邮件中正确解析信息：

    +   `abcompanywebform`。您也可以保持邮箱名称不变。

    +   **初始模板**：该字段将显示您转发至邮箱的电子邮件中的数据。通过突出文本并命名它，标记您想要持续解析的电子邮件中的数据。如下屏幕截图所示：

![图 9.3 - 通过 Zapier 的邮箱地址和初始模板字段格式化邮件解析器](img/B18474_09_03.jpg)

图 9.3 - 通过 Zapier 的邮箱地址和初始模板字段格式化邮件解析器

+   **源代码（Body Source）**：使用下拉菜单选择您想要 Email Parser by Zapier 从哪种格式中提取信息，如纯文本（**始终使用纯文本正文内容**）、HTML（**始终使用 HTML 正文内容**）或最佳内容（**使用最佳可用正文内容**）。后者是默认值，并且建议使用。这对于一致地提取数据很重要。

+   **解析引擎**：使用下拉菜单选择要使用的解析器引擎。您可以在**Classic (v1, legacy)**、**Experimental (v2)**和**Best Match (v1 + v2)**之间选择。后者是默认值，并且建议使用。

1.  选择 **保存地址和模板** 按钮进行保存和继续，或选择 **删除邮箱** 来删除邮箱并重新开始。

现在，让我们来回顾一下如何帮助 Zapier 智能解析您的电子邮件中的数据。

#### 调整电子邮件解析器邮箱模板以获得最佳结果。

Zapier 的电子邮件解析器与信息的一致格式最佳匹配，例如以相同行和行之间相同空格展示的数据。如果解析器引擎不正确地提取信息，您可以通过报告不准确之处和编辑其他模板来教它正确的格式。建议您将几个示例电子邮件发送到解析器邮箱中，检查提取信息的一致性，并编辑模板或报告不准确之处。您可以按照以下方式进行操作：

1.  从主邮箱仪表板上，点击适当邮箱的**查看邮件**链接。

已发送的电子邮件将按列表顺序显示，包括它们发送的电子邮件地址和发送时间。您可以勾选 **删除** 方框并点击 **删除选定电子邮件** 按钮来删除邮件，或使用适当的链接 **显示** 或 **隐藏** 正文。

1.  要查看任何电子邮件的数据准确度，请点击 **显示** 链接。

1.  选择以下四个数据视图选项之一：

    +   **提取的**：点击 **提取的** 链接展示从电子邮件中解析的数据。

    +   **原始**：点击 **原始** 链接展示转发至解析器的原始电子邮件数据。

    +   **模板**：点击 **模板** 链接展示原始模板中带有标签的数据。

    +   **输出**：点击 **输出** 链接展示带有数据标签和提取数据的解析数据输出。

下面是一个示例截图：

![图 9.4 – 在 Email Parser by Zapier 中查看电子邮件历史](img/B18474_09_04.jpg)

图 9.4 – 在 Email Parser by Zapier 中查看电子邮件历史

1.  点击**不准确**链接以通知解析引擎提取的文字不准确（如*图 9.4*所示），或者点击**准确**链接以通知解析引擎提取的文字正确。

1.  点击**编辑额外模板**链接，向邮箱解析器数据添加额外模板。

提示

除非你的电子邮件数据是简单和基本的，确保 Email Parser by Zapier 一致工作可能需要不断尝试和错误，涉及重新映射数据和更改设置以教导解析引擎正确提取数据。如果你要提取更复杂的数据，考虑使用专用的解析器应用，比如**Docparser**或**Mailparser**。

现在我们已经创建了邮箱并测试并调整了设置，让我们完成设置触发步骤吧。

#### 完成触发步骤的设置

在 Zap 编辑器中导航回你的 Zap，并在那里，通过编辑**触发**部分的**邮箱**字段，完成触发步骤的设置。此字段允许你选择要使用的邮箱。请使用下拉选项从你创建的邮箱列表中选择。以下截图显示了设置此触发步骤的示例：

![图 9.5 – 自定义新邮件触发事件概述](img/B18474_09_05.jpg)

图 9.5 – 自定义新邮件触发事件概述

然后你可以选择**继续**并在**测试**部分，点击**测试触发器**按钮来检索你的测试数据，以便在你的行动步骤中使用。如果你还没有向解析引擎邮箱发送测试邮件，将会收到相关指示。

继续向你的 Zap 添加一个或多个行动步骤，使用这个触发步骤的数据。

提示

以下是一个有趣的例子，你可以使用 AI 通过 OpenAI 与 Zapier 解析电子邮件中的数据：[`community.zapier.com/featured-articles-65/use-openai-with-zapier-to-parse-an-email-or-other-data-22709`](https://community.zapier.com/featured-articles-65/use-openai-with-zapier-to-parse-an-email-or-other-data-22709)。我们将在*第十九章*中更详细地探讨 OpenAI 集成，*AI* *与自动化*。

现在你应该可以使用**新邮件**触发事件了。接下来，让我们来看看**新邮箱**触发事件。

## 新邮箱触发事件

此触发事件可用于当新邮箱添加到你的 Email Parser by Zapier 帐户时启动工作流程。此触发事件在你和你的团队协作使用 Zapier 时很有用，可以随时了解邮箱何时被创建。

以下是如何使用 Email Parser by Zapier 的**新邮箱**触发事件的一些例子：

+   当创建新邮箱时发送 Microsoft Teams 消息

+   当添加新邮箱时发送一封电子邮件

让我们探讨如何设置这个触发事件。

### 设置新邮箱触发事件

一旦将这个触发步骤添加到您的工作流程的开始（至**1．触发**），选择**Zapier 的电子邮件解析器**作为应用程序，**新邮箱**作为触发事件。然后，选择**继续**以使用**测试**部分。使用**测试触发**按钮来检索测试数据。

继续使用来自此触发器步骤的数据添加一个或多个操作步骤到您的 Zap 中。

您现在应该更好地了解何时以及如何使用**新邮箱**触发事件，以及 Zapier 内置应用程序的**新邮件**触发事件。

提示

欲获取更多灵感和预制模板，请查看[Zapier 内置应用程序个人资料页](https://zapier.com/apps/email-parser/integrations)。

该 Zapier 社区资源提供了一些额外的洞察，来使用 Zapier 的电子邮件解析器内置应用程序：[`community.zapier.com/featured-articles-65/email-parser-common-issues-workarounds-and-tips-17539`](https://community.zapier.com/featured-articles-65/email-parser-common-issues-workarounds-and-tips-17539)。

提示

您也可以使用 Zapier 的 AI（测试版）内置应用智能解析电子邮件中的文本，并指定诸如基于主题路由电子邮件等条件。我们将在*第十九章*更详细地介绍 Zapier 的 AI 和自动化。

接下来，让我们了解如何使用 Zapier 的 RSS 内置应用程序，这样你就知道如何在自动化中使用 RSS 订阅数据。

# Zapier 的 RSS - 使用 RSS 订阅阅读器

尝试跟上推送给我们的所有内容可能会让人不知所措，我们可能错过重要的新内容。`site.com/feed`或`site.com/rss`。通常，它们会显示在页脚栏的`_Feeds`链接中。私人订阅通常需要您使用登录凭据来访问它们。有关如何找到几乎任何网站的 RSS 订阅的更多信息，请查看这篇文章：[`zapier.com/blog/how-to-find-rss-feed-url/`](https://zapier.com/blog/how-to-find-rss-feed-url/)。

Zapier 的 RSS 内置应用程序允许您将 RSS 订阅更新用作触发器，然后通过添加通知动作步骤，如电子邮件、短信或 Slack 消息，来获取新内容的更新。您也可以使用该应用程序创建自己的自定义 RSS 订阅。

以下是您可以使用 Zapier 的 RSS 的一些示例：

+   在您的社交媒体渠道上分享来自您网站的新博客文章

+   将您最喜爱的网站的新文章添加到 Google 表格电子表格或**Knack**中

+   当竞争对手的网站上发表新的博客文章时收到一封电子邮件

Zapier 的 RSS 可以用作触发器和操作步骤，并有以下事件可用：

+   **Feed 中的新项目**（触发器）

+   **多个** **Feeds** 中的新项目（触发器）

+   **在 Feed 中创建项目**（操作）

让我们依次探索如何设置每个。

## **Feed** 中的新项目触发事件

**Feed** 中的**新项目** 触发事件可用于在特定网站发布新内容时启动工作流程。

让我们探索如何设置这个触发事件。

### 设置**Feed** 中的**新项目**触发事件

一旦您将此触发步骤添加到您的工作流程的开头（到**1\. 触发器**），并选择**RSS by Zapier**作为应用程序和**Feed** 中的**新项目**作为触发事件，您可以选择**继续**。然后您可以编辑**触发器**部分中的字段，如下所示：

+   `site.com/feed`或`site.com/rss`。这是一个必填字段，必须有一个值才能运行 Zap。

+   **用户名**：如果 RSS 订阅是私有的，请输入用户名凭据以启用访问权限。您可以输入静态文本、从以前步骤中获取的动态数据，或者使用组合。

+   **密码**：如果 RSS 订阅是私有的，请输入密码凭据以启用访问权限。

+   **触发新 Feed 项目的条件**：这个下拉字段允许您选择触发事件的数据类型。默认选项是**不同的 Guid/URL（推荐）**，推荐使用这个选项。如果您了解 RSS 订阅功能的各个方面，请选择**不同的内容**或**任何不同的内容**作为高级选项。

这些选项显示在以下截图中：

![图 9.6 – 自定义 Feed 中的新项目触发事件概述](img/B18474_09_06.jpg)

图 9.6 – 自定义 Feed 中的新项目触发事件概述

然后您可以选择**继续**，在**测试**部分中，使用**测试触发器**按钮检索您的测试数据以在操作步骤中使用。

继续添加一个或多个操作步骤到您的 Zap，使用这个触发步骤中的数据。

提示

如果您只想查看特定的新项目，如来自[zoho.com](https://zoho.com) 的帖子，那么您可以添加一个条件逻辑步骤，并使用 Zapier 的筛选器进行筛选。

您现在应该可以使用**Feed** 中的**新项目**触发事件。接下来，让我们看看**多个 Feed 中的新项目**触发事件。

## 多个 Feed 中的新项目触发事件

**多个 Feed 中的新项目**触发事件可用于在最多 10 个网站发布新内容时启动工作流程。这样您就不必为每个 RSS 订阅设置多个触发器了。

让我们探索如何设置这个触发事件。

### 设置**多个 Feed 中的新项目**触发事件

一旦您将此触发步骤添加到您的工作流程的开头（到**1\. 触发器**），并选择**RSS by Zapier**作为应用程序和**多个 Feed 中的新项目**作为触发事件，您可以选择**继续**。然后您可以编辑**触发器**部分中的字段，如下所示：

+   `site.com/feed`或`site.com/rss`。每个字段添加一个 URL；一旦您开始输入，其他字段将出现，以便您最多可以添加 10 个 URL。通过单击字段末尾的**x**按钮删除任何 URL。这是一个必填字段，必须为 Zap 设置一个值。

+   **触发新 Feed 项目的条件**：此下拉字段允许您选择触发事件的数据类型。默认选项是**不同的指南/URL（推荐）**，建议您使用此选项。如果您了解 RSS Feed 功能的详情，请选择**不同的内容**或**任何内容不同**作为高级选项。

这些选项显示在以下截图中：

![图 9.7 - 自定义多个 Feed 中的新项目触发事件的概览](img/B18474_09_07.jpg)

图 9.7 - 自定义多个 Feed 中的新项目触发事件的概览

您可以然后选择**继续**，在**测试**部分使用**测试触发器**按钮检索您的测试数据，以便您可以在操作步骤中使用它。

继续添加一个或多个操作步骤到您的 Zap 中，使用此触发步骤的数据。

您现在应该能够使用**多个 Feed 中的新项目**触发事件。接下来，让我们看一看**在 Feed 中创建项目**操作事件。

## 在 Feed 中创建项目操作事件

**在 Feed 中创建项目**操作事件允许您创建一个定制的 Feed，并在网站上托管它，提供一个可共享的链接。最好与**Feed 中的新项目**或**多个 Feed 中的新项目**触发事件结合使用。

让我们探讨如何设置此操作事件。

### 设置创建项目在 Feed 操作事件

一旦设置了触发步骤，您就可以使用**在 Feed 中创建项目**操作事件。

一旦您添加了一个操作步骤，要么选择**操作**步骤，要么单击**+**图标，并选择了**RSS by Zapier**作为应用程序和**在 Feed 中创建项目**作为操作事件，您可以编辑**操作**部分的字段，如下所示：

+   **Feed URL**：此字段允许您创建和自定义您的独特和私密的 RSS Feed URL。Zapier 生成前缀，您可以通过添加字母、数字和连字符的组合来自定义后缀。请勿添加空格或符号。您还可以单击**复制**按钮复制 URL，以便您将其存储在某个地方以供快速参考，例如在您的 Evernote 笔记中。这是一个必填字段，必须为 Zap 设置一个值。

+   **Feed 标题**：输入您新 Feed 的标题。您可以输入静态文本、从前面步骤映射的动态数据，或二者结合。如果留空，标题将默认为**称为 X 的 Feed**，其中**X**是您在**Feed URL**字段中输入的前缀。

+   **最大记录数**：输入您希望在 feed 中返回的最大记录数。最大值为 50，但在此字段中添加一个数字可以减少数量。您可以将静态文本、从之前步骤映射的动态数据，或二者的组合输入到此整数字段中。

+   **项标题**：为要发布的项输入标题。在这里，您可以键入静态内容、映射之前步骤中的动态内容，或二者的组合。这是一个必填字段，必须有值才能运行 Zap。

+   **源 URL**：提供 feed 项永久托管的源 URL 的详细信息。这是一个必填字段，必须有值才能运行 Zap。

+   **内容**：以纯文本或 HTML 格式提供 feed 项的内容详情。您可以键入静态内容、映射之前步骤中的动态内容，或二者的组合。这是一个必填字段，必须有值才能运行 Zap。

+   **自动截断超过 10KB 的消息？**：使用此布尔字段选择是否要求 Zapier 截断 **内容** 字段中超过 10KB 的数据。选择**是**以截断消息，或选择**否**以在数据过大时生成错误消息。

+   **作者姓名**：通过键入静态内容、映射之前步骤中的动态内容，或二者的组合，添加作者姓名。

+   **作者电子邮件**：通过键入静态内容、映射之前步骤中的动态内容，或二者的组合，添加作者的电子邮件地址。

+   **作者链接**：通过键入静态内容、映射之前步骤中的动态内容，或二者的组合，添加作者链接。例如，这可以是作者的简介或网站链接。

+   **媒体 URL**：添加原始媒体 URL，允许下载文件，例如播客文件、图像或视频。您可以键入静态内容、映射之前步骤中的动态内容，或二者的组合。

+   `audio/mpeg`。有关 MIME 类型的更多详细信息可在维基百科上找到：[`en.wikipedia.org/wiki/Media_type`](https://en.wikipedia.org/wiki/Media_type)。您可以键入静态内容、映射之前步骤中的动态内容，或二者的组合。

+   `0`。您可以键入静态内容、映射之前步骤中的动态内容，或二者的组合。

+   **发布日期**：提供 feed 项的发布日期详细信息。最常用的术语是 *now*，但您可以在此字段中使用任何兼容的日期/时间格式。Feed 项不是按照**发布日期**排序的，而是按照它们被插入的日期排序。

下面的两个屏幕截图展示了一个示例，其中使用了从**Feed 中的新项**触发器事件映射的数据：

![图 9.8 – ﻿自定义创建 feed 动作事件概览（1）](img/B18474_09_08.jpg)

图 9.8 - 自定义创建 feed 动作事件概览（1）

动作步骤的第二部分显示在以下屏幕截图中：

![图 9.9 – ﻿自定义创建 Feed 动作事件的概览（2）](img/B18474_09_09.jpg)

图 9.9 – 自定义创建 Feed 动作事件的概览（2）

单击**继续**按钮。完成后，您可以使用**测试**部分测试此步骤，或单击**跳过测试**。

以下屏幕截图显示了订阅内容的示例：

![图 9.10 – 使用创建 Feed 动作事件的结果概览](img/B18474_09_10.jpg)

图 9.10 – 使用创建 Feed 动作事件的结果概览

继续添加一个或多个动作步骤或打开您的 Zap。

您现在应该更好地了解何时以及如何使用 Zapier 内置应用 RSS 及其各种触发器和动作。

提示

要获得更多灵感并访问预构建模板，您可以查看[Zapier 内置应用的 RSS 配置文件页面](https://zapier.com/apps/rss/integrations)。

现在，让我们来介绍如何使用 Zapier 内置应用 Digest 来编译摘要中的数据。

# Zapier 的 Digest – 编译摘要中的数据

Zapier 内置应用 Digest 允许您从多个工作流触发事件中捕获数据，并将数据编译成单个摘要，可用于其他动作事件中。如果您希望在某一时刻而不是发生时收到若干通知的摘要，这将非常有用。如果您不希望在某些日期收到常规通知而受到干扰，请关闭它们，仅在您指定的时间收到摘要。相反，您的一些应用可能不会发送有关某些事件的通知，在这种情况下，您可能希望定期收到某些发生的报告。您还可以搜索现有的摘要数据以在工作流中使用。

以下是您可以使用此内置应用的一些示例：

+   每周向管理层发送一封电子邮件，摘要介绍该周创建的所有销售发票

+   每天上午 10 点和下午 3 点发送一封电子邮件，其中包含您当天收到的所有 Slack 通知的定期摘要。

+   在那周内您被分配的**Teamwork Projects**任务列表发送一条 Slack 消息

+   向微软团队发送一条每周社交媒体提及摘要的消息

还有许多您可以使用 Zapier 内置应用 Digest 的可能性。

提示

要获得更多灵感并访问预构建模板，您可以查看[Zapier 内置应用的 Digest 配置文件页面](https://zapier.com/apps/digest/integrations)。

该应用仅可用作动作或搜索动作步骤，并提供以下可用事件：

+   **追加条目和计划摘要**（动作）

+   **发布现有摘要**（动作）

+   **查找摘要**（搜索动作）

请记住，一旦使用任何操作步骤从摘要中释放数据，摘要将被清除，并在事件发生时汇总新的摘要数据。

让我们逐一查看。

## 附加记录和计划摘要动作事件

**附加记录和计划摘要**动作事件允许您从触发应用程序聚合数据，将其附加到来自触发应用程序的其他收集数据列表的末尾，然后安排在您指定的时间运行。

为了说明使用 Digest by Zapier，我们将使用在 Xero 中创建销售发票摘要的示例。

让我们探讨如何设置此动作事件。

### 设置**附加记录和计划摘要**动作事件

一旦设置了相关的触发器步骤，并且您想要推送到 Digest by Zapier 的相关触发器数据，您就可以使用**附加记录和计划摘要**动作事件。

一旦您添加了操作步骤，可以通过选择**操作**步骤或单击**+**图标，并选择**Digest by Zapier**作为应用程序，**附加记录和计划摘要**作为动作事件，您可以编辑**操作**部分中的字段，如下所示：

+   `新销售`发票摘要。

+   **条目**：在此字段中，您可以输入静态文本，映射来自以前步骤的动态数据，或者使用二者的组合，这些内容将包括在摘要中。例如，我们可能希望在摘要中包含发票号码、日期、货币和金额。

+   **频率**：此字段控制 Zapier 传递摘要的频率。您可以选择**每日**、**每周**、**每月**、**阈值（达到一定数量的条目时）**以及**手动（与单独的“发布摘要”Zap 配对）**。频率的选择确定显示的附加字段。

所有三个字段都是必需的，并且必须具有值才能使 Zap 运行。

让我们看看不同的**Frequency**字段选项。

#### 频率 - 每日

**Frequency**字段下拉菜单中的**Daily**选项是该字段的默认设置。一旦选择，以下字段将出现：

+   `hh:mm aa`、`hh:mm`或`hhmm`格式，例如`11:45`，或者从以前的步骤映射动态值。这是一个必填字段，必须有值才能使 Zap 运行。

+   **周末触发？**：此字段控制您的摘要是否在周末发布。您可以使用布尔字段下拉菜单在**是**和**否**之间进行选择，如果您想要在星期六和星期日触发，请选择**是**，如果您只想在星期一到星期五触发，请选择**否**。

这些选项显示在以下截图中：

![图 9.11 - ﻿自定义“每日频率”字段选项的附加记录和计划摘要动作事件概览](img/B18474_09_11.jpg)

图 9.11 - 自定义“每日频率”字段选项的附加记录和计划摘要动作事件概览

点击**继续**按钮。现在，您可以使用**测试**部分测试此步骤，或者点击**跳过测试**。

继续添加一个或多个操作步骤，以便收到您的摘要，然后打开您的 Zap。

这是一个 Zapier 社区示例，演示了**追加条目和安排摘要**操作事件以及**每日**选项的使用：[`community.zapier.com/how-do-i-3/daily-digest-of-slack-to-stay-up-to-date-19008`](https://community.zapier.com/how-do-i-3/daily-digest-of-slack-to-stay-up-to-date-19008)。

接下来，我们将审查**每周**选项。

#### 频率 – 每周

当您在**频率**字段下拉菜单中选择**每周**选项时，将出现以下字段：

+   **星期的日**: 此字段控制您希望释放摘要数据的星期的哪一天。使用下拉菜单选择从**星期一**到**星期日**的日期。

+   `hh:mm aa`、`hh:mm` 或 `hhmm` 格式，例如 `11:45`，或从上一步映射动态值。

这两个字段都是必填的，Zap 必须具有值才能运行。

这些选项显示在以下屏幕截图中：

![图 9.12 – 自定义**每周频率**字段选项概述在追加条目和安排摘要操作事件中](img/B18474_09_12.jpg)

图 9.12 – 自定义**每周频率**字段选项概述在追加条目和安排摘要操作事件中

点击**继续**按钮。然后，您可以使用**测试**部分测试此步骤或点击**跳过测试**。

继续添加一个或多个操作步骤，以便收到您的摘要，然后打开您的 Zap。

这是一个 Zapier 社区示例，演示了**追加条目和安排摘要**操作事件以及**每周**选项的使用：[`community.zapier.com/featured-articles-65/send-yourself-a-weekly-digest-of-newly-added-zapier-integrations-12489`](https://community.zapier.com/featured-articles-65/send-yourself-a-weekly-digest-of-newly-added-zapier-integrations-12489)。

接下来，我们将探讨**每月**选项。

#### 频率 – 每月

当您在**频率**字段下拉菜单中选择**每月**选项时，将出现以下字段：

+   **月份的日**: 此字段控制您希望释放摘要数据的月份的哪一天。使用下拉菜单选择从**1**到**31**的日期。

+   `hh:mm aa`、`hh:mm` 或 `hhmm` 格式，例如 `9:15 p.m`。

这两个字段都是必填的，Zap 必须具有值才能运行。

这些选项显示在以下屏幕截图中：

![图 9.13 – 自定义**每月频率**字段选项概述在追加条目和安排摘要操作事件中](img/B18474_09_13.jpg)

图 9.13 – 自定义**每月频率**字段选项概述在追加条目和安排摘要操作事件中

点击**继续**按钮。然后，您可以使用**测试**部分测试此步骤或点击**跳过测试**。

继续添加一个或多个操作步骤，以便收到您的摘要，然后打开您的 Zap。

这是一个 Zapier 社区示例，说明了**Append Entry and Schedule Digest**动作事件和**Monthly**选项的使用：[`community.zapier.com/featured-articles-65/creating-a-monthly-updates-newsletter-using-digest-11917`](https://community.zapier.com/featured-articles-65/creating-a-monthly-updates-newsletter-using-digest-11917)。

我们接下来将查看**Threshold (when a certain number of entries is reached)**选项。

#### 频率 - 阈值（当达到一定数量的条目时）

当您选择**Threshold (when a certain number of entries is reached)**选项时，**Number Of Entries**字段将出现。该字段控制摘要在发布之前会汇总多少条目。持有摘要的最长周期是从第一条目开始的 1 个月，因此如果在此时间内未达到数量，则摘要将自动发布。此字段是必需的，必须为 Zap 设置一个值才能运行。

此选项显示在以下截图中：

![图 9.14 - ﻿自定义阈值（当达到一定数量的条目时）频率字段选项在追加条目和计划摘要动作事件中的概述](img/B18474_09_14.jpg)

图 9.14 - 自定义阈值（当达到一定数量的条目时）频率字段选项在追加条目和计划摘要动作事件中的概述

单击**Continue**按钮。然后，您可以使用**Test**部分测试此步骤，或单击**Skip test**。

继续添加一个或多个动作步骤，以便您收到摘要摘要，然后打开您的 Zap。

我们将接下来审查**Manual (pair with separate “Release Digest” Zap)**选项。

#### 频率 - 手动（与单独的“Release Digest” Zap 配对）

当您在**Frequency**字段下拉菜单中选择**Manual (pair with separate “Release Digest” Zap)**选项时，不会出现更多字段。

此选项显示在以下截图中：

![图 9.15 - ﻿自定义手动（与单独的“Release Digest” Zap 配对）频率字段选项在追加条目和计划摘要动作事件中的概述](img/B18474_09_15.jpg)

图 9.15 - 自定义手动（与单独的“Release Digest” Zap 配对）频率字段选项在追加条目和计划摘要动作事件中的概述

单击**Continue**按钮。完成后，您可以使用**Test**部分测试此步骤，或单击**Skip test**。

重要提示

此字段选项与**Release Existing Digest**动作事件一起使用，您必须将其设置为现有 Zap 中的一个后续步骤，或者将其设置为一个单独的 Zap，以便发布摘要。

继续添加**Release Existing Digest**动作步骤，或者打开您的 Zap。

现在，让我们讨论如何设置**Release Existing Digest**动作事件。

## Release Existing Digest 动作事件

**释放现有摘要**操作事件与**追加条目和安排摘要**操作事件的**频率**字段下拉菜单中的**手动（与独立的“释放摘要”Zap 匹配）**选项配合使用。它允许手动设置的摘要在某个时间点释放。

这个操作事件可以在与**追加条目和安排摘要**操作事件相同的 Zap 中使用，也可以在一个独立的 Zap 中使用。以下是何时适合使用其中任何一种情况的一些示例：

+   **在相同的 Zap 中**：如果你希望延迟摘要的释放一段时间，比如 12 小时，你可以添加一个 Delay by Zapier 的**延迟**操作步骤，**释放现有摘要**操作步骤和一个通知操作步骤（比如通过 Email by Zapier 的**发送邮件**操作事件）

+   **在另一个 Zap 中**：如果你希望摘要在另一个无关的触发事件之后释放，比如 CRM 中的机会关闭，你可以使用**释放现有摘要**操作事件和通知操作步骤。

让我们来探索如何设置这个操作事件。

### 设置释放现有摘要操作事件

一旦你在这个 Zap 或另一个 Zap 中设置了一个操作步骤，涉及到**追加条目和安排摘要**操作事件，你就可以使用**释放现有摘要**操作事件。

一旦你添加了一个操作步骤，要么选择**操作**步骤，要么点击**+**图标，并选择**Digest by Zapier**作为应用程序，**释放现有摘要**作为操作事件，你就可以编辑**动作**部分的**摘要**字段。这个字段控制在这个步骤中使用哪个摘要。从下拉菜单中，你可以从一个已创建的摘要列表中进行选择。或者，你可以使用**自定义**选项，输入摘要的名称，或者从之前的步骤中映射出一个动态日期。

如下屏幕截图展示了如何设置这个操作事件的示例：

![图 9.16 – ﻿自定义现有摘要释放操作事件概述](img/B18474_09_16.jpg)

图 9.16 – 自定义现有摘要释放操作事件概述

点击**继续**按钮；然后，使用**测试**部分测试这一步骤，或者点击**跳过测试**。

下面的截图展示了一个包含两张发票的已释放摘要的示例：

![图 9.17 – ﻿现有摘要释放操作步骤结果概述](img/B18474_09_17.jpg)

图 9.17 – 现有摘要释放操作步骤结果概述

然后继续添加一个或多个操作步骤，这样你就能收到摘要总结，然后打开你的 Zap。

这是一个 Zapier 社区的示例，演示了如何使用**附加条目和安排摘要**操作事件以及**手动（与单独的“发布摘要” Zap 配对）**选项和**发布现有摘要**操作事件：[`community.zapier.com/featured-articles-65/using-paths-in-loops-to-save-data-in-a-digest-and-release-it-on-the-last-loop-13074`](https://community.zapier.com/featured-articles-65/using-paths-in-loops-to-save-data-in-a-digest-and-release-it-on-the-last-loop-13074)。

接下来，让我们讨论如何设置**查找摘要**搜索操作事件。

## 查找摘要搜索操作事件

当您想要周期性地检索摘要中的所有现有数据时，可以使用**查找摘要**搜索操作事件。例如，您可能希望每天检查摘要的数据（使用 Schedule by Zapier 触发器），并发送带有结果的电子邮件通知。您还可以添加后续步骤，在满足某些条件的筛选器通过后，释放数据，例如，如果是每月的 15 号。

让我们一起探索如何设置这个操作事件。

### 设置查找摘要操作事件

设置触发步骤后，您可以使用**查找摘要**搜索操作事件。

添加操作步骤后，选择**操作**步骤或单击**+**标志，并选择**Digest by Zapier**作为应用程序，**Find Digest**作为操作事件，您可以编辑**操作**部分中的字段，如下所示：

+   **摘要**：此字段用于控制在步骤中使用哪个摘要。从下拉菜单中选择一个创建的摘要列表。或者，您可以使用**自定义**选项通过输入摘要名称或映射以前步骤的动态数据来输入摘要的名称。

+   **如果找不到任何内容，是否应该将此步骤视为“成功”？**：您可以使用此布尔字段从下拉菜单中选择**是（true）**或**否（false）**，输入文本，或者从先前的步骤中插入数据，以便在搜索中找不到任何内容时将此步骤视为“成功”。有关如何使用此功能的更多信息，请参阅*第六章*中的*使用多个操作和搜索步骤创建 Zap*部分。

这些选项显示在以下截图中：

![图 9.18 - ﻿自定义“查找摘要”搜索操作事件的概述](img/B18474_09_18.jpg)

图 9.18 - 自定义“查找摘要”搜索操作事件的概述

单击**Continue**按钮；然后，使用**Test**部分测试此步骤，或者单击**跳过测试**。

继续添加一个或多个操作步骤，然后启动您的 Zap。

现在，你应该更好地了解何时以及如何使用内置的 Digest by Zapier 应用程序了。

现在，让我们来看一个创建 RSS Feed 摘要的 Zap 的示例。

# 练习 - 使用 RSS Feed 摘要创建多步骤的 Zap

如果适用的话，你可以使用你在*第二章*中定义的流程之一，*准备自动化你的流程*，来处理本节内容。尝试在你的工作流程中整合多个应用程序。

你可能想要创建你最喜欢的三个博客的月度摘要。你希望在每月的第一天上午 9 点在 Slack 消息中接收摘要，并在 MeisterTask 中添加一个任务，以便你不会忘记阅读。如果你在 7 天后没有标记任务为已完成，你希望在 Slack 中收到另一个提醒。

这里是一个简单的工作流程示例，你可以构建来自动化该流程：

1.  **触发器**：添加 RSS by Zapier **多个订阅源中的新项目**事件触发器，并指定你想接收订阅更新的博客。

1.  **操作**：添加一个 Digest by Zapier **追加条目并安排摘要**操作事件，并指定**频率**为**每月**，**日期**为**1 号**，**时间**为**上午 9 点**。

1.  **操作**：向自己添加一个 Slack **发送直接消息**操作事件。

1.  **操作**：添加一个 MeisterTask **创建任务**操作事件。

1.  **操作**：添加一个 Delay by Zapier **延迟**操作步骤，指定延迟为 7 天。

1.  **操作**：添加一个**查找任务**搜索动作来搜索 MeisterTask 中你在*第 4 步*创建的任务。

1.  **操作**：添加一个通过 Filter by Zapier 过滤器，只有当任务仍然处于打开状态时才允许 Zap 继续进行。

1.  **操作**：添加一个 Slack **添加提醒**操作事件，提醒你还没有阅读你的摘要。

你可以在这里获取这个 Zap 模板的副本：[`bit.ly/zapier-book`](https://bit.ly/zapier-book)。

尝试通过重复这个练习为你记录的任何适当的流程构建类似的流程，从而受益于自动化。

现在你应该更好地了解何时以及如何在你的 Zaps 中使用电子邮件解析、RSS 订阅和摘要。

# 概要

在本章中，我们介绍了更多 Zapier 内置应用程序的范围。我们介绍了如何使用 Zapier 的 Email Parser 从电子邮件中提取数据，然后探讨了如何使用 Zapier 的 RSS 订阅阅读器在自动化中使用 RSS。接着，我们讨论了如何使用 Zapier 的 Digest 来编制数据摘要。最后，我们覆盖了创建一个 RSS 订阅摘要的练习。

现在你知道如何从电子邮件中提取或解析数据，在你的自动化中使用 RSS 订阅，并将数据整理成摘要。

在下一章中，你将了解到 Zapier 的其他各种内置应用程序。我们将讨论如何从互联网的任何页面启动一次性自动化，如何缩短 URL，以及如何翻译和检测不同语言的文本。我们还将讨论如何检索并评分潜在客户的公司信息，如何使用天气条件数据，以及如何在你的自动化中使用占星预测。

# 问题

1.  一旦你映射了你想让 Zapier 邮件解析器解析的变量，它会可靠地每次提取正确的数据吗？

1.  我可以用 RSS by Zapier 创建自己定制的 RSS 订阅吗？

1.  在 Digest by Zapier 中，**手动（与单独的“发布摘要” Zap 配对）**频率选项是如何工作的？
